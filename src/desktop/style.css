:root {

    --primary: #05A64B;

    --primary-hover: #0B8C50;

    --bg: #F2F2F2;

    --sidebar-bg: #082359;

    --sidebar-accent: #071A40;

    --card-bg: #ffffff;

    --text-main: #071A40;

    --text-muted: #64748b;

    --border: #e2e8f0;

    --column-bg: #e5e7eb;

    --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);

    --shadow: 0 10px 15px -3px rgba(0,0,0,0.1);

}



* {

    box-sizing: border-box;

    margin: 0;

    padding: 0;

}



body {

    font-family: 'Inter', system-ui, -apple-system, sans-serif;

    color: var(--text-main);

    background-color: var(--bg);

    height: 100vh;

    overflow: hidden;

}



.hidden { display: none !important; }



#app {

    display: flex;

    height: 100vh;

    width: 100vw;

}



#main-container {

    display: flex;

    width: 100%;

    height: 100%;

}



.hidden { display: none !important; }



/* Sidebar */

.sidebar {

    flex: 0 0 280px;

    width: 280px;

    background-color: var(--sidebar-bg);

    color: #f8fafc;

    display: flex;

    flex-direction: column;

    height: 100%;

    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);

    position: relative;

    z-index: 100;

}



.sidebar.closed {

    flex: 0 0 0px;

    margin-left: -280px;

    opacity: 0;

    pointer-events: none;

}



.btn-icon-only {

    background: transparent;

    border: none;

    color: white;

    font-size: 1.1rem;

    cursor: pointer;

    transition: opacity 0.2s;

    width: 32px;

    height: 32px;

    display: flex;

    align-items: center;

    justify-content: center;

    border-radius: 50%;

}



.btn-icon-only:hover {

    background: rgba(255,255,255,0.1);

}



#btn-close-sidebar {

    margin-left: auto;

}



.btn-hamburger {

    background: #f1f5f9;

    border: none;

    width: 40px;

    height: 40px;

    border-radius: 50%;

    display: none;

    align-items: center;

    justify-content: center;

    cursor: pointer;

    color: var(--primary);

    transition: all 0.2s;

    margin-right: 1.25rem;

}



.btn-hamburger:hover {

    background: #e2e8f0;

    transform: scale(1.05);

}



.btn-hamburger i {

    font-size: 1.1rem;

}



.sidebar.closed + .content .btn-hamburger {

    display: flex;

}



.header-left {

    display: flex;

    align-items: center;

}



.btn-view-all:hover {

    background: var(--primary) !important;

    color: white !important;

    transform: translateY(-2px);

    box-shadow: 0 4px 12px rgba(16, 185, 129, 0.2);

}



.sidebar-nav {

    list-style: none;

    padding: 0;

    margin: 0.5rem 0;

}



.sidebar-nav li {

    padding: 0.75rem 1rem;

    cursor: pointer;

    display: flex;

    align-items: center;

    gap: 0.75rem;

    color: #cbd5e1;

    transition: all 0.2s;

    border-radius: 0.5rem;

    margin: 0.25rem 0;

    font-size: 0.9rem;

}



.sidebar-nav li:hover { background: rgba(255,255,255,0.05); color: white; }

.sidebar-nav li.active { background: var(--primary); color: white; font-weight: 600; }



.sidebar-top {

    flex: 1;

    display: flex;

    flex-direction: column;

    padding: 1.5rem;

    overflow-y: auto;

}



.logo {

    display: flex;

    align-items: center;

    gap: 0.75rem;

    font-size: 1.25rem;

    font-weight: 700;

    margin-bottom: 2rem;

    color: white;

}



.sidebar-header {

    display: flex;

    justify-content: space-between;

    align-items: center;

    margin-bottom: 0.5rem;

}



.sidebar-header h2 {

    font-size: 0.7rem;

    text-transform: uppercase;

    letter-spacing: 0.1em;

    color: #94a3b8;

}



#btn-new-project {

    background: rgba(255,255,255,0.1);

    color: white;

    width: 24px;

    height: 24px;

    border-radius: 4px;

    border: none;

    cursor: pointer;

    font-weight: bold;

    display: flex;

    align-items: center;

    justify-content: center;

}



#project-list {

    list-style: none;

    margin-top: 0.5rem;

}



#project-list li {

    padding: 0.85rem 1rem;

    cursor: pointer;

    border-radius: 0.75rem;

    margin-bottom: 0.25rem;

    color: #e2e8f0;

    transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);

    display: flex;

    align-items: center;

    justify-content: space-between;

    font-size: 0.95rem;

    border: 1px solid transparent;

}



#project-list li i.fa-folder {

    margin-right: 0.75rem;

    color: #94a3b8;

    transition: color 0.2s;

}



#project-list li .arrow {

    font-size: 0.75rem;

    opacity: 0;

    transform: translateX(-5px);

    transition: all 0.2s;

}



#project-list li:hover {

    background: rgba(255, 255, 255, 0.08);

    color: white;

}



#project-list li:hover .arrow {

    opacity: 0.5;

    transform: translateX(0);

}



#project-list li:hover i.fa-folder {

    color: var(--secondary);

}



#project-list li.active {

    background: var(--secondary);

    color: white;

    font-weight: 600;

}



#project-list li.active i.fa-folder {

    color: white;

}



#project-list li.active .arrow {

    opacity: 1;

    transform: translateX(0);

}



.nav-item-content {

    display: flex;

    align-items: center;

}



/* Priority Slider Styling */

.priority-slider-container {

    padding: 0.5rem 0;

}



.priority-visual-indicator {

    display: flex;

    align-items: center;

    gap: 0.75rem;

    margin-top: 0.5rem;

    padding: 0.5rem;

    border-radius: 0.5rem;

    transition: all 0.3s ease;

}



.priority-icon-wrapper {

    width: 36px;

    height: 36px;

    border-radius: 50%;

    display: flex;

    align-items: center;

    justify-content: center;

    font-size: 1.2rem;

    position: relative;

}



/* Intensidad Relaxed to Urgent */

@keyframes priority-pulse {

    0% { transform: scale(1); opacity: 0.8; }

    50% { transform: scale(1.1); opacity: 1; box-shadow: 0 0 10px currentColor; }

    100% { transform: scale(1); opacity: 0.8; }

}



input[type="range"].priority-slider {

    -webkit-appearance: none;

    width: 100%;

    background: transparent;

    cursor: pointer;

}



input[type="range"].priority-slider::-webkit-slider-runnable-track {

    width: 100%;

    height: 6px;

    background: #e2e8f0;

    border-radius: 3px;

}



input[type="range"].priority-slider::-webkit-slider-thumb {

    -webkit-appearance: none;

    height: 18px;

    width: 18px;

    border-radius: 50%;

    background: var(--primary);

    margin-top: -6px;

    box-shadow: 0 2px 4px rgba(0,0,0,0.1);

    transition: transform 0.2s ease;

}



input[type="range"].priority-slider:active::-webkit-slider-thumb {

    transform: scale(1.2);

}



/* Scrollbars */

::-webkit-scrollbar {

    width: 8px;

    height: 8px;

}



::-webkit-scrollbar-track {

    background: #f1f1f1;

    border-radius: 10px;

}



::-webkit-scrollbar-thumb {

    background: #cbd5e1;

    border-radius: 10px;

}



::-webkit-scrollbar-thumb:hover {

    background: #94a3b8;

}



.task-card.dragging {

    opacity: 0.4;

    cursor: grabbing;

    transform: scale(0.95);

    border: 2px dashed var(--primary);

}



#custom-motivo-input:focus {

    border-color: #f59e0b !important;

    box-shadow: 0 0 0 4px rgba(245, 158, 11, 0.1) !important;

}



#confirm-motivo:hover {

    background: #d97706 !important;

    transform: translateY(-1px);

}



#cancel-motivo:hover {

    background: #e2e8f0 !important;

}



/* Animations */

@keyframes fadeIn {

    from { opacity: 0; }

    to { opacity: 1; }

}



.view {

    animation: fadeIn 0.4s ease;

    flex: 1;

    display: flex;

    flex-direction: column;

    overflow-y: auto; /* Scroll por defecto para Dashboard/Timeline */

}



#kanban-view {

    overflow: hidden; /* El Kanban no scrollea globalmente, solo sus columnas */

}



.content-header {

    height: 72px;

    padding: 0 1.5rem;

    background: white;

    border-bottom: 1px solid var(--border);

    display: flex;

    justify-content: space-between;

    align-items: center;

}



.header-right {

    display: flex;

    align-items: center;

    gap: 1.25rem;

}



.user-profile {

    display: flex;

    align-items: center;

    gap: 0.75rem;

    padding: 0.35rem 0.6rem 0.35rem 1rem;

    border-radius: 3rem;

    background: #f8fafc;

    border: 1px solid #e2e8f0;

}



.user-info-text {

    display: flex;

    flex-direction: column;

}



#user-display-name {

    font-size: 0.9rem;

    font-weight: 600;

    color: #0f172a;

}



.avatar { 

    width: 32px; 

    height: 32px; 

    background: #10b981; 

    color: white;

    border-radius: 50%; 

    display: flex;

    align-items: center;

    justify-content: center;

    font-size: 0.8rem;

    font-weight: 700;

}



.content {

    flex: 1;

    display: flex;

    flex-direction: column;

    height: 100vh;

    min-width: 0;

    overflow: hidden; /* Evitar scroll global en PC */

    background: var(--bg);

}



.btn-logout-circle {

    width: 32px;

    height: 32px;

    border-radius: 50%;

    border: 1px solid #e2e8f0;

    background: #f1f5f9;

    color: #475569;

    display: flex;

    align-items: center;

    justify-content: center;

    cursor: pointer;

    transition: all 0.2s;

    margin-left: 0.75rem;

}



.btn-home-circle {

    width: 32px;

    height: 32px;

    border-radius: 50%;

    border: 1px solid #e2e8f0;

    background: #f1f5f9;

    color: #475569;

    display: flex;

    align-items: center;

    justify-content: center;

    cursor: pointer;

    transition: all 0.2s;

    margin-left: 0.75rem;

}



.btn-home-circle:hover {

    background: #eff6ff;

    color: #3b82f6;

    border-color: #dbeafe;

}



.btn-logout-circle:hover {

    background: #fee2e2;

    color: #ef4444;

    border-color: #fecaca;

}



.btn-logout-circle i {

    font-size: 0.9rem;

}



.content-header h1 {

    font-size: 1.5rem;

    font-weight: 700;

    color: #0f172a;

    letter-spacing: -0.02em;

}



.view-switch { 

    display: flex; 

    background: #f1f5f9; 

    padding: 0.25rem; 

    border-radius: 0.75rem; 

    gap: 0.25rem; 

    border: 1px solid #e2e8f0;

}



.view-switch button { 

    padding: 0.5rem 1rem; 

    background: transparent; 

    color: var(--text-muted); 

    border: none; 

    border-radius: 0.5rem; 

    cursor: pointer; 

    font-size: 0.85rem; 

    font-weight: 500;

    display: flex;

    align-items: center;

    gap: 0.5rem;

    transition: all 0.2s;

}



.view-switch button i {

    font-size: 0.9rem;

}



.view-switch button.active { 

    background: white; 

    color: var(--primary); 

    box-shadow: 0 1px 3px rgba(0,0,0,0.1); 

}



.view-switch button:hover:not(.active) {

    background: rgba(0,0,0,0.05);

    color: var(--primary);

}



#timeline-view {

    padding: 2rem;

    background: #f8fafc;

    flex: 1;

    overflow-y: auto;

}



#timeline-container {

    background: white;

    padding: 2rem;

    border-radius: 1.25rem;

    border: 1px solid var(--border);

    box-shadow: var(--shadow-sm);

    height: 400px;

    width: 100%;

}



.board { 

    display: flex; 

    gap: 1.25rem; 

    padding: 1.5rem 2rem; 

    overflow-x: auto; 

    overflow-y: hidden;

    flex: 1; 

    align-items: stretch; /* Estirar columnas para que ocupen todo el alto */

}



.column { 

    background: #f1f5f9; 

    border-radius: 0.75rem; 

    width: 320px; 

    min-width: 320px; 

    height: 100%; /* Alto completo dentro del board */

    display: flex; 

    flex-direction: column; 

    border: 1px solid #e2e8f0; 

}

.column h3 { padding: 1.25rem 1rem 0.75rem; font-size: 0.75rem; font-weight: 700; color: #64748b; text-transform: uppercase; letter-spacing: 0.05em; display: flex; align-items: center; gap: 0.5rem; }

.column h3::before { content: ""; width: 8px; height: 8px; border-radius: 50%; background: #cbd5e1; }

.column[data-status="TODO"] h3::before { background: #94a3b8; }

.column[data-status="DOING"] h3::before { background: #3b82f6; }

.column[data-status="DONE"] h3::before { background: #22c55e; }

.task-list { 

    flex: 1; 

    padding: 0.75rem; 

    display: flex; 

    flex-direction: column; 

    gap: 0.75rem; 

    overflow-y: auto; 

    overflow-x: hidden; 

    min-height: 100px; 

    transition: background 0.2s;

}

.task-list.drag-over { 

    background: rgba(5, 166, 75, 0.08); 

    border-radius: 0 0 0.75rem 0.75rem;

    outline: 2px dashed var(--primary);

    outline-offset: -4px;

}



.task-card {

    background: white;

    padding: 1rem 1.25rem;

    border-radius: 0.75rem;

    border: 1px solid var(--border);

    box-shadow: 0 1px 2px rgba(0,0,0,0.05);

    cursor: pointer;

    transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1);

    position: relative;

    border-left: 4px solid #cbd5e1;

}



.task-card:hover {

    transform: translateY(-3px) scale(1.01);

    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);

    border-color: #e2e8f0;

}



.task-desc-preview {

    font-size: 0.8rem;

    color: #64748b;

    margin-bottom: 1rem;

    display: -webkit-box;

    -webkit-line-clamp: 2;

    -webkit-box-orient: vertical;

    overflow: hidden;

    line-height: 1.5;

}



.task-card.dragging {

    opacity: 0.5;

    cursor: grabbing;

    transform: scale(0.98);

}



.task-card-header {

    display: flex;

    justify-content: space-between;

    align-items: flex-start;

    gap: 1rem;

    margin-bottom: 0.25rem; /* Ajustado para mejor flujo con el preview */

}



.task-card h4 { 

    font-size: 0.95rem; 

    font-weight: 600; 

    color: #1e293b; 

    line-height: 1.4;

    margin: 0;

}



.task-footer {

    display: flex;

    justify-content: space-between;

    align-items: center;

    padding-top: 0.75rem;

    border-top: 1px solid #f1f5f9;

}



.task-date {

    display: flex;

    align-items: center;

    gap: 0.4rem;

    font-size: 0.75rem;

    color: #94a3b8;

}



.task-actions {

    display: flex;

    gap: 0.75rem;

    color: #cbd5e1;

}



.task-actions i:hover {

    color: var(--primary);

}



.text-success { color: #10b981; }

.text-warning { color: #f59e0b; }

.text-primary { color: #3b82f6; }

.task-card.dragging { opacity: 0.4; transform: scale(0.95); cursor: grabbing; }

.task-card h4 { font-size: 0.95rem; font-weight: 600; margin-bottom: 0.5rem; color: #1e293b; }

.task-card p { font-size: 0.85rem; color: #64748b; margin-bottom: 1rem; line-height: 1.5; display: -webkit-box; -webkit-line-clamp: 3; line-clamp: 3; -webkit-box-orient: vertical; overflow: hidden; }

.task-footer { display: flex; justify-content: space-between; align-items: center; font-size: 0.75rem; color: #94a3b8; border-top: 1px solid #f1f5f9; padding-top: 0.75rem; font-weight: 500; }



.btn-add-task { 

    margin: 0.75rem; 

    padding: 0.75rem; 

    border: 1px dashed #cbd5e1; 

    background: transparent; 

    border-radius: 0.75rem; 

    cursor: pointer; 

    color: var(--text-muted); 

    font-size: 0.85rem; 

    font-weight: 500;

    display: flex;

    align-items: center;

    justify-content: center;

    gap: 0.5rem;

    transition: all 0.2s;

}



.btn-add-task:hover { 

    border-color: var(--primary); 

    color: var(--primary); 

    background: white; 

    border-style: solid;

    box-shadow: var(--shadow-sm);

}



/* Modals */

.modal { 
    position: fixed; 
    top: 0 !important;
    left: 0 !important;
    width: 100vw !important;
    height: 100vh !important;
    background: rgba(15, 23, 42, 0.8); 
    backdrop-filter: blur(8px);
    display: flex; 
    align-items: center; 
    justify-content: center; 
    z-index: 2000; 
}

.modal-content { 
    background: white; 
    width: 100vw; 
    height: 100vh;
    max-width: none;
    max-height: none;
    padding: 0; 
    border-radius: 0; 
    display: flex; 
    flex-direction: column; 
    overflow: hidden; 
    box-shadow: none;
    animation: modal-appear 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
    position: fixed;
    top: 0 !important;
    left: 0 !important;
    margin: 0 !important;
}

/* --- MEMBERS GALLERY VIEW --- */
#modal-project-members .modal-body {
    flex-direction: column !important;
    overflow-y: auto !important;
    padding: 2rem 0;
    align-items: center;
}

.members-gallery-container {
    padding: 0 4rem;
    width: 100%;
    max-width: 1400px;
    margin: 0 auto;
}

.search-members-box {
    position: relative;
    margin: 0 auto 3rem;
    width: 100%;
    max-width: 500px;
}

.search-members-box i {
    position: absolute;
    left: 20px;
    top: 50%;
    transform: translateY(-50%);
    color: #94a3b8;
    font-size: 1.2rem;
}

.search-members-box input {
    width: 100%;
    padding: 1.2rem 1.2rem 1.2rem 3.5rem;
    border-radius: 20px;
    border: 2px solid #e2e8f0;
    font-size: 1.1rem;
    transition: all 0.3s ease;
    background: #f8fafc;
    text-align: center;
}

.search-members-box input:focus {
    border-color: #10b981;
    background: white;
    box-shadow: 0 10px 25px -5px rgba(16, 185, 129, 0.1);
    text-align: left;
}

.users-gallery-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
    gap: 1.5rem;
    width: 100%;
    padding-bottom: 5rem;
}

.user-member-card {
    background: white;
    border: 2px solid #e2e8f0;
    border-radius: 20px;
    padding: 1.2rem 1.5rem;
    display: flex;
    align-items: center;
    gap: 1.2rem;
    position: relative;
    cursor: pointer;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.user-member-card:hover {
    border-color: #10b981;
    transform: translateY(-4px);
    box-shadow: 0 12px 24px -10px rgba(0, 0, 0, 0.1);
}

.user-member-card.is-member {
    border: 2px solid #10b981;
    background: #f0fdf4;
}

.card-avatar {
    width: 58px;
    height: 58px;
    border-radius: 14px;
    background: #082359;
    color: white;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.4rem;
    font-weight: 700;
}

.card-info {
    flex: 1;
    overflow: hidden;
}

.card-info .user-name {
    font-weight: 700;
    color: #0f172a;
    font-size: 1.1rem;
    display: block;
    margin-bottom: 2px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.card-info .user-email {
    font-size: 0.85rem;
    color: #64748b;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.check-indicator {
    width: 28px;
    height: 28px;
    border-radius: 50%;
    border: 2px solid #cbd5e1;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.3s ease;
    flex-shrink: 0;
}

.user-member-card.is-member .check-indicator {
    background: #10b981;
    border-color: #10b981;
    color: white;
}

/* Eliminamos el ::after con content f00c para evitar la doble palomita */
.user-member-card.is-member .check-indicator::after {
    display: none;
}

/* Badge en el footer */
.selected-count-badge {
    background: #082359;
    color: white;
    padding: 0.7rem 1.5rem;
    border-radius: 50px;
    font-weight: 600;
    font-size: 0.95rem;
    display: flex;
    align-items: center;
    gap: 0.7rem;
    box-shadow: 0 4px 12px rgba(8, 35, 89, 0.2);
}

.modal-header-with-edit .modal-category {
    font-size: 0.75rem;
    font-weight: 800;
    color: #082359;
    letter-spacing: 1.5px;
    margin-bottom: 0.2rem;
    display: block;
}

#modal-project-members .modal-title-group h1 {
    font-size: 2.2rem;
    color: #082359;
    font-weight: 800;
    margin-top: 5px;
}

#modal-project-members .modal-title-group p {
    color: #64748b;
    font-size: 1.1rem;
    margin-top: 5px;
}

#modal-project-members .modal-footer {
    padding: 1.5rem 4rem;
    justify-content: space-between !important;
    background: white;
    border-top: 1px solid #f1f5f9;
}
    align-items: center;
    justify-content: center;
    transition: all 0.2s;
    background: white;
}

.is-member .check-indicator {
    background: #10b981;
    border-color: #10b981;
    color: white;
}

.check-indicator i {
    font-size: 0.7rem;
    opacity: 0;
    transition: all 0.2s;
}

.is-member .check-indicator i {
    opacity: 1;
}

.selected-count-badge {
    background: #082359;
    color: white;
    padding: 0.6rem 1.2rem;
    border-radius: 50px;
    font-size: 0.9rem;
    font-weight: 600;
}



.modal-content input:focus, .modal-content textarea:focus {

    border-color: var(--primary) !important;

    background: white;

    box-shadow: 0 0 0 4px rgba(16, 185, 129, 0.1);

}



.modal-content button:hover {

    transform: translateY(-1px);

    filter: brightness(1.05);

}



.modal-close-corner {
    position: absolute;
    top: 10px;
    right: 10px;
    width: 36px;
    height: 36px;
    background: #10b981 !important; /* Verde esmeralda forzado */
    border: none !important;
    border-radius: 50% !important;
    color: #ffffff !important; /* X blanca */
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    z-index: 2050;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.4);
}

.modal-close-corner:hover {
    background: #059669 !important;
    color: white !important;
    transform: rotate(90deg) scale(1.1);
}

.modal-priority-banner {

    height: 8px;

    width: 100%;

    background: #64748b; /* Default */

    transition: background 0.3s ease;

}



.modal-body { 
    padding: 0; 
    display: flex !important; 
    flex-direction: row !important; /* Visualización a la izquierda, Chat a la derecha */
    flex-wrap: nowrap !important;
    overflow: hidden; 
    height: 100vh;
    max-height: none;
    width: 100vw;
}

/* Modal Mini (Para motivos, alertas, etc) */

.modal-mini {

    width: 90%;

    max-width: 480px;

    max-height: auto;

    border-radius: 1.5rem;

}



.modal-header {

    padding: 1.5rem 1.5rem 0.5rem;

}



.modal-header h3 {

    color: var(--sidebar-bg);

    font-size: 1.5rem;

    font-weight: 800;

    margin-bottom: 0.5rem !important;

}



.modal-header p {

    color: var(--text-muted);

    font-size: 0.95rem;

    line-height: 1.4;

}



.modal-inner {

    padding: 1rem 1.5rem;

}



.modal-footer {

    padding: 1rem 1.5rem 1.5rem;

    display: flex;

    gap: 1rem;

    justify-content: flex-end;

}



.btn-primary {

    background: var(--primary);

    color: white;

    padding: 0.75rem 1.5rem;

    border-radius: 0.75rem;

    border: none;

    font-weight: 700;

    cursor: pointer;

    transition: all 0.2s;

}



.btn-primary:hover {

    background: var(--primary-hover);

    transform: translateY(-2px);

    box-shadow: 0 4px 12px rgba(5, 166, 75, 0.3);

}



.btn-secondary {

    background: #f1f5f9;

    color: #64748b;

    padding: 0.75rem 1.5rem;

    border-radius: 0.75rem;

    border: none;

    font-weight: 700;

    cursor: pointer;

    transition: all 0.2s;

}



.btn-secondary:hover {

    background: #e2e8f0;

    color: #475569;

}



#custom-motivo-input {

    width: 100%;

    height: 120px;

    padding: 1rem;

    border-radius: 0.75rem;

    border: 2px solid #f1f5f9;

    background: #f8fafc;

    font-family: inherit;

    font-size: 1rem;

    resize: none;

    outline: none;

    transition: all 0.2s;

}



#custom-motivo-input:focus {

    border-color: var(--primary);

    background: white;

    box-shadow: 0 0 0 4px rgba(5, 166, 75, 0.1);

}



.task-modal-main { 
    flex: 1; 
    height: 100%;
    overflow-y: auto; 
    padding: 2rem 2.5rem; 
    border-right: 2px solid #f1f5f9;
}



/* Personalizar scrollbars para que se vean bien */

.task-modal-main::-webkit-scrollbar, 

.discussion-area::-webkit-scrollbar, 

.extension-list::-webkit-scrollbar {

    width: 6px;

}



.task-modal-main::-webkit-scrollbar-thumb,

.discussion-area::-webkit-scrollbar-thumb,

.extension-list::-webkit-scrollbar-thumb {

    background: #e2e8f0;

    border-radius: 10px;

}



/* --- TAREA EXTENSIONES (Checklist, Listas, Comentarios) --- */

.task-extensions {

    margin-top: 2.5rem;

    display: grid;

    grid-template-columns: 1.1fr 0.9fr;

    gap: 2.5rem;

    border-top: 1px solid var(--border);

    padding-top: 2.5rem;

}



.extension-section {

    display: flex;

    flex-direction: column;

    gap: 1.5rem;

}



.extension-header {

    display: flex;

    justify-content: space-between;

    align-items: center;

    margin-bottom: 0.5rem;

}



.extension-header h4 {

    margin: 0;

    font-size: 0.85rem;

    color: var(--text-muted);

    text-transform: uppercase;

    letter-spacing: 0.08em;

    display: flex;

    align-items: center;

    gap: 0.6rem;

}



.extension-header h4 i {

    color: var(--primary);

    font-size: 1rem;

}



/* Items Generales (Checklist y Listas) */

.elements-list {

    display: flex;

    flex-direction: column;

    gap: 0.6rem;

}



.element-item {

    display: flex;

    align-items: center;

    gap: 0.75rem;

    padding: 0.75rem 1rem;

    background: #f8fafc;

    border-radius: 0.75rem;

    border: 1px solid #e2e8f0;

    transition: all 0.2s ease;

}



.element-item:hover {

    border-color: var(--primary-light);

    background: white;

    box-shadow: var(--shadow-sm);

}



.element-item.dragging {

    opacity: 0.4;

    background: var(--primary-light);

}



.element-item .handle {

    cursor: grab;

    color: #cbd5e1;

    font-size: 0.9rem;

}



.element-item input[type="checkbox"] {

    width: 18px;

    height: 18px;

    cursor: pointer;

    accent-color: var(--primary);

}



.element-item .number-badge {

    background: var(--sidebar-bg);

    color: white;

    width: 22px;

    height: 22px;

    border-radius: 6px;

    display: flex;

    align-items: center;

    justify-content: center;

    font-size: 0.7rem;

    font-weight: 700;

}



.element-item .content-input {

    flex: 1;

    font-size: 0.95rem;

    color: var(--text-main);

    border: none;

    background: transparent;

    outline: none;

    padding: 0;

}



.element-item.completed .content-input {

    text-decoration: line-through;

    color: #94a3b8;

}



.btn-delete-element {

    color: #cbd5e1;

    cursor: pointer;

    font-size: 0.85rem;

    opacity: 0;

    transition: all 0.2s;

}



.element-item:hover .btn-delete-element {

    opacity: 1;

}



.btn-delete-element:hover {

    color: #ef4444;

}



/* --- TAREA EXTENSIONES MEJORADAS (Tabs) --- */

#task-extensions-area { 
    flex: 1; 
    height: 100%;
    display: flex; 
    flex-direction: column; 
    gap: 0; 
    padding: 0; 
    border-left: none; 
    overflow: hidden; 
    background: #f8fafc;
}

.extensions-tabs-nav { 
    display: flex; 
    flex-direction: row; 
    background: #e2e8f0; 
    padding: 0.5rem; 
    border-radius: 12px; 
    gap: 0.5rem; 
    flex-shrink: 0; 
    margin: 1rem 1.5rem;
}

.tab-link {
    flex: 1;
    border: none !important;
    outline: none !important;
    padding: 0.75rem 1rem !important;
    border-radius: 10px !important;
    font-size: 0.85rem !important;
    font-weight: 700 !important;
    cursor: pointer;
    background: transparent !important;
    color: #475569 !important;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.6rem;
    transition: all 0.2s ease;
}

.tab-link i { font-size: 1rem; }

.tab-link.active {
    background: white !important;
    color: #10b981 !important;
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06) !important;
}

.tab-link:hover:not(.active) {
    background: rgba(255, 255, 255, 0.5) !important;
    color: #1e293b !important;
}



.tabs-content {

    flex: 1;

    display: flex;

    flex-direction: column;

    overflow: hidden;

}



.tab-pane {

    display: none;

    flex-direction: column;

    height: 100%;

    overflow: hidden;

}



.tab-pane.active {

    display: flex;

    animation: tab-fade 0.3s ease;

}



/* Área de Listas y Chat con Scroll */

.discussion-area, .extension-list {

    flex: 1;

    overflow-y: auto;

    padding: 0.5rem 0.5rem 1rem 0;

    display: flex;

    flex-direction: column;

    gap: 0.75rem;

}



/* Scrollbars personalizadas para estas secciones */

.discussion-area::-webkit-scrollbar, 

.extension-list::-webkit-scrollbar {

    width: 5px;

}



.discussion-area::-webkit-scrollbar-thumb,

.extension-list::-webkit-scrollbar-thumb {

    background: #e2e8f0;

    border-radius: 10px;

}



.discussion-area {

    padding: 1.5rem !important;

    background: #fbfcfd;

    gap: 1.5rem !important;

}



@keyframes tab-fade {

    from { opacity: 0; transform: translateY(5px); }

    to { opacity: 1; transform: translateY(0); }

}



/* Media query desactivada para forzar side-by-side en escritorio */
@media (max-width: 600px) {
    #task-extensions-area {
        border-left: none;
        border-top: 2px solid #f1f5f9;
        padding-left: 0;
        padding-top: 2rem;
    }
}



.extension-section {

    background: #f8fafc;

    border-radius: 1.25rem;

    padding: 1.25rem;

    border: 1px solid #e2e8f0;

    display: flex;

    flex-direction: column;

    gap: 1rem;

}



.extension-section h4 {

    font-size: 0.95rem;

    font-weight: 700;

    color: var(--sidebar-bg);

    margin: 0;

    display: flex;

    align-items: center;

    gap: 0.5rem;

}



.extension-section h4 i {

    color: var(--primary);

}



.extension-list {

    display: flex;

    flex-direction: column;

    gap: 0.75rem;

    flex: 1;

    overflow-y: auto;

    padding-right: 0.5rem;

}



/* --- COMPONENTES DE ENTRADA DE COMENTARIOS (Unificados) --- */

.comment-input-wrapper {

    margin: 1rem 1.25rem 1.25rem 1.25rem;

    background: white;

    border: 2px solid #f1f5f9;

    border-radius: 1.5rem;

    display: flex;

    flex-direction: column;

    overflow: hidden;

    transition: border-color 0.2s;

    box-shadow: 0 4px 15px rgba(0,0,0,0.03);

    flex-shrink: 0;

}



.comment-input-wrapper:focus-within {

    border-color: var(--primary);

}



.comment-input-wrapper.drag-over {

    border-color: var(--primary);

    background: #f0fdf4;

    border-style: dashed;

}



#comment-attachment-preview {

    background: #fbfcfd;

    border: none;

    border-bottom: 1px dashed #e2e8f0;

    padding: 0.75rem 1rem;

    margin: 0;

    animation: slideDown 0.3s ease;

}



@keyframes slideDown {

    from { opacity: 0; transform: translateY(-10px); }

    to { opacity: 1; transform: translateY(0); }

}



.preview-content {

    display: flex;

    align-items: center;

    gap: 1rem;

}



/* Imagen mas grande en preview */

.preview-thumbnail {
    width: 60px;
    height: 60px;
    border-radius: 0.5rem;
    overflow: visible; /* Cambiado de hidden para dejar ver el badge */
    background: #f1f5f9;
    flex-shrink: 0;
    border: 1px solid #e2e8f0;
    position: relative;
}

.preview-thumbnail img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: 0.5rem;
}

.btn-edit-badge {
    position: absolute;
    bottom: -8px;
    left: 45px;
    background: #007aff;
    color: white;
    border: 2px solid white;
    padding: 5px 12px;
    border-radius: 20px;
    font-size: 0.8rem;
    font-weight: 700;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 6px;
    box-shadow: 0 4px 15px rgba(0, 122, 255, 0.3);
    white-space: nowrap;
    z-index: 10;
    transition: all 0.2s;
}

.btn-edit-badge:hover {
    background: #0063ce;
    transform: translateY(-2px);
}

.btn-edit-badge:active {
    transform: translateY(0) scale(0.95);
}



/* PDF y Audio mas pequeños */

.preview-icon {

    width: 32px;

    height: 32px;

    border-radius: 0.4rem;

    background: #ecfdf5;

    color: var(--primary);

    display: flex;

    align-items: center;

    justify-content: center;

    font-size: 0.9rem;

    flex-shrink: 0;

}



.preview-info {

    flex: 1;

    display: flex;

    flex-direction: column;

    overflow: hidden;

}



#preview-filename {

    font-size: 0.75rem;

    font-weight: 700;

    color: #334155;

    white-space: nowrap;

    overflow: hidden;

    text-overflow: ellipsis;

}



#preview-size {

    font-size: 0.6rem;

    color: #94a3b8;

    font-weight: 600;

}



#btn-remove-attachment {

    background: #f1f5f9;

    border: none;

    color: #94a3b8;

    cursor: pointer;

    font-size: 0.9rem;

    transition: all 0.2s;

    padding: 0;

    width: 26px;

    height: 26px;

    border-radius: 50%;

    display: flex;

    align-items: center;

    justify-content: center;

}



#btn-remove-attachment:hover {

    background: #fee2e2;

    color: #ef4444;

}



.extension-input-group {
    display: flex;
    align-items: flex-end; /* Cambiado para soportar textarea que crece */
    gap: 0.5rem;
    background: white;
    padding: 0.5rem 0.75rem 0.5rem 1.25rem;
    border: 2px solid #f1f5f9;
    border-radius: 1.5rem;
    margin: 1rem 1.25rem 1.25rem 1.25rem;
    box-shadow: 0 4px 15px rgba(0,0,0,0.02);
    flex-shrink: 0;
}

.extension-input-group:focus-within {
    border-color: var(--primary);
}

.extension-input-group textarea {
    flex: 1;
    border: none !important;
    background: transparent !important;
    outline: none !important;
    font-size: 0.9rem !important;
    padding: 0.5rem 0 !important;
    color: #334155 !important;
    resize: none;
    max-height: 120px;
    font-family: inherit;
    line-height: 1.4;
    overflow-y: auto;
}

.extension-input-group input {
    flex: 1;
    border: none !important;
    background: transparent !important;
    outline: none !important;
    font-size: 0.9rem !important;
    padding: 0.5rem 0 !important;
    color: #334155 !important;
}



.btn-icon-secondary {

    background: white;

    border: 1px solid #e2e8f0;

    color: #64748b;

    width: 36px;

    height: 36px;

    border-radius: 50%;

    display: flex;

    align-items: center;

    justify-content: center;

    cursor: pointer;

    transition: all 0.2s;

    flex-shrink: 0;

}



.btn-icon-secondary:hover {

    color: var(--primary);

    border-color: var(--primary);

}



.btn-add-element {

    background: var(--primary);

    color: white;

    border: none !important;

    width: 44px !important;

    height: 44px !important;

    border-radius: 50% !important;

    cursor: pointer;

    display: flex;

    align-items: center;

    justify-content: center;

    font-size: 1.1rem;

    transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);

    flex-shrink: 0;

    box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);

    outline: none !important;

    padding: 0 !important;

}



.btn-add-element:hover {

    background: #059669;

    transform: scale(1.1) rotate(-8deg);

    box-shadow: 0 6px 15px rgba(16, 185, 129, 0.4);

}



.btn-add-element:active {

    transform: scale(0.95);

}



/* --- BLOQUEO DE CARGA (Para evitar parpadeos) --- */

.pane-loading-overlay {

    position: absolute;

    top: 0;

    left: 0;

    width: 100%;

    height: 100%;

    background: #fbfcfd;

    display: flex;

    flex-direction: column;

    align-items: center;

    justify-content: center;

    z-index: 100;

    color: var(--primary);

    gap: 1rem;

}



.pane-loading-overlay i {

    font-size: 2rem;

    animation: fa-spin 2s linear infinite;

    opacity: 0.5;

}



.pane-loading-overlay span {

    font-size: 0.85rem;

    font-weight: 600;

    color: #64748b;

    letter-spacing: 0.05em;

}



/* Screenblock específico para el Input (Solo al subir/enviar) */

.input-uploading-overlay {

    position: absolute;

    top: 0;

    left: 0;

    width: 100%;

    height: 100%;

    background: rgba(255, 255, 255, 0.85);

    backdrop-filter: blur(2px);

    display: flex;

    align-items: center;

    justify-content: center;

    z-index: 50;

    border-radius: 1.5rem;

    color: var(--primary);

    font-size: 0.75rem;

    font-weight: 700;

    gap: 0.5rem;

    pointer-events: all;

}



.input-uploading-overlay i {

    animation: fa-spin 1s linear infinite;

}



.tab-pane {

    position: relative; /* Para el pane-loading-overlay */

}



.comment-input-wrapper, .extension-input-group {

    position: relative; /* Para el input-uploading-overlay */

}



/* Skeleton Pulse Animation */

.skeleton-pulse {

    background: linear-gradient(-90deg, #f1f5f9 0%, #e2e8f0 50%, #f1f5f9 100%);

    background-size: 400% 400%;

    animation: skeleton-loading 1.2s ease-in-out infinite;

}



@keyframes skeleton-loading {

    0% { background-position: 100% 50%; }

    100% { background-position: 0% 50%; }

}



/* Items & Global Delete Buttons */

.checklist-item, .numbered-item {

    background: white;

    padding: 0.85rem 1rem;

    border-radius: 1rem;

    display: flex;

    align-items: center;

    gap: 0.75rem;

    border: 2px solid #f1f5f9;

    box-shadow: 0 2px 4px rgba(0,0,0,0.02);

    transition: all 0.2s;

    margin-bottom: 0.5rem;

    position: relative;

}



.numbered-item.dragging {

    opacity: 0.4;

    border: 2px dashed var(--primary);

    background: #f0fdf4;

}



.numbered-item.drag-over {

    border-top: 3px solid var(--primary);

    transform: translateY(2px);

}



.drag-handle {

    cursor: grab;

    color: #cbd5e1;

    padding-right: 0.5rem;

    display: flex;

    align-items: center;

}



.drag-handle:active {

    cursor: grabbing;

}



.delete-element {

    background: #f1f5f9;

    border: none;

    color: #94a3b8;

    width: 28px;

    height: 28px;

    border-radius: 50%;

    display: flex;

    align-items: center;

    justify-content: center;

    cursor: pointer;

    transition: all 0.2s;

    font-size: 0.75rem;

    flex-shrink: 0;

    padding: 0;

}



.delete-element:hover {

    background: #fee2e2;

    color: #ef4444;

    transform: rotate(90deg);

}



.btn-add-element:hover {

    background: #059669;

    transform: scale(1.1) rotate(-10deg);

}



/* Previsualización de Imagen en Chat */

.comment-image-preview {

    width: 200px;

    height: 200px;

    border-radius: 0.75rem;

    overflow: hidden;

    margin-top: 0.5rem;

    cursor: pointer;

    border: 1px solid #e2e8f0;

}



.comment-image-preview img {

    width: 100%;

    height: 100%;

    object-fit: cover;

    object-position: center;

    transition: transform 0.3s;

}



.comment-image-preview:hover img {

    transform: scale(1.05);

}



/* Reproductor de Audio Simple */

.comment-audio-player {

    background: #f8fafc;

    padding: 0.75rem;

    border-radius: 1rem;

    margin-top: 0.5rem;

    border: 1px solid #e2e8f0;

    display: flex;

    flex-direction: column;

    gap: 0.5rem;

}



.audio-controls {

    display: flex;

    align-items: center;

    gap: 0.75rem;

}



.btn-audio-action {

    background: white;

    border: 1px solid #e2e8f0;

    width: 32px;

    height: 32px;

    border-radius: 50%;

    display: flex;

    align-items: center;

    justify-content: center;

    cursor: pointer;

    color: var(--primary);

    box-shadow: 0 1px 2px rgba(0,0,0,0.05);

}



.audio-info {

    font-size: 0.7rem;

    color: #64748b;

    font-weight: 600;

}



/* Link PDF */

.comment-pdf-link {

    display: inline-flex;

    align-items: center;

    gap: 0.5rem;

    padding: 0.5rem 1rem;

    background: #f8fafc;

    border: 1px solid #e2e8f0;

    border-radius: 0.75rem;

    text-decoration: none;

    color: #334155;

    font-size: 0.85rem;

    margin-top: 0.5rem;

    transition: all 0.2s;

}



.comment-pdf-link:hover {

    background: white;

    border-color: var(--primary);

    color: var(--primary);

}



/* Modal de Zoom */

.zoom-container {

    height: 100vh;

    display: flex;

    align-items: center;

    justify-content: center;

    flex-direction: column;

}



#zoomed-image {

    max-width: 90%;

    max-height: 80vh;

    object-fit: contain;

    transition: transform 0.3s ease;

}



.zoom-controls {

    position: fixed;

    bottom: 40px;

    display: flex;

    gap: 1rem;

    background: rgba(255,255,255,0.1);

    backdrop-filter: blur(10px);

    padding: 0.75rem 1.5rem;

    border-radius: 2rem;

    border: 1px solid rgba(255,255,255,0.2);

}



.zoom-controls button {

    background: transparent;

    border: none;

    color: white;

    cursor: pointer;

    font-size: 1.2rem;

}



/* --- HISTORIAL DE COMENTARIOS (BURBUJAS) --- */

.discussion-area {

    padding: 1.5rem !important;

    background: #fcfcfc;

    gap: 1.25rem !important;

    display: flex;

    flex-direction: column;

}



/* Menu de Comentarios (Tres Puntitos) */

.comment-actions {

    position: relative;

    display: flex;

    gap: 0.25rem;

}



.comment-menu-btn {

    background: none;

    border: none;

    color: var(--text-muted);

    padding: 0.4rem;

    cursor: pointer;

    border-radius: 50%;

    transition: all 0.2s;

    display: flex;

    align-items: center;

    justify-content: center;

}



.comment-menu-btn:hover {

    background: rgba(0,0,0,0.05);

}



.comment-dropdown {

    position: absolute;

    top: 100%;

    right: 0;

    background: white;

    box-shadow: 0 4px 20px rgba(0,0,0,0.15);

    border-radius: 0.75rem;

    padding: 0.5rem;

    min-width: 150px;

    z-index: 100;

    border: 1px solid rgba(0,0,0,0.05);

}



.comment-dropdown button {

    display: flex;

    align-items: center;

    gap: 0.75rem;

    width: 100%;

    padding: 0.6rem 0.8rem;

    border: none;

    background: none;

    cursor: pointer;

    font-size: 0.85rem;

    color: var(--text-main);

    border-radius: 0.4rem;

    transition: background 0.2s;

}



.comment-dropdown button:hover {

    background: #f8fafc;

}



.comment-dropdown button.danger-btn {

    color: #ef4444;

}



.comment-dropdown button.danger-btn:hover {

    background: #fef2f2;

}



/* Burbuja de Respuesta */

.reply-reference {

    background: rgba(0,0,0,0.04);

    border-left: 3px solid var(--primary);

    padding: 0.5rem 0.75rem;

    border-radius: 0.5rem;

    margin-bottom: 0.8rem;

    font-size: 0.8rem;

    cursor: pointer;

}



.comment-bubble.me .reply-reference {

    background: rgba(255,255,255,0.4);

    border-left-color: #0369a1;

}



.reply-author {

    font-weight: 700;

    display: block;

    margin-bottom: 2px;

}



.reply-text {

    opacity: 0.8;

    display: -webkit-box;

    -webkit-line-clamp: 1;

    -webkit-box-orient: vertical;

    overflow: hidden;

}



/* Preview de Respuesta sobre el Input */

.reply-preview-container {

    background: #f8fafc;

    border-top: 1px solid var(--border);

    padding: 0.75rem 1rem;

    display: flex;

    align-items: center;

    justify-content: space-between;

    animation: slideUp 0.3s ease-out;

}



@keyframes slideUp {

    from { transform: translateY(10px); opacity: 0; }

    to { transform: translateY(0); opacity: 1; }

}



.reply-preview-content {

    border-left: 3px solid var(--primary);

    padding-left: 0.75rem;

    overflow: hidden;

}



.btn-close-reply {

    background: none;

    border: none;

    color: var(--text-muted);

    cursor: pointer;

    font-size: 1.1rem;

    padding: 0.5rem;

}



.btn-close-reply:hover { color: #ef4444; }



.comment-bubble {

    background: white;

    padding: 1.25rem;

    border-radius: 1.25rem 1.25rem 1.25rem 0.25rem;

    border: 1px solid #f1f5f9;

    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05), 0 2px 4px -1px rgba(0, 0, 0, 0.03);

    position: relative;

    max-width: 85%;

}



.comment-bubble.me {

    align-self: flex-end;

    background: #e0f2fe;

    border-radius: 1.25rem 1.25rem 0.25rem 1.25rem;

    border-color: #bae6fd;

}



.comment-bubble.me .comment-author {

    color: #0369a1;

}



.comment-bubble.other {

    align-self: flex-start;

    border-radius: 1.25rem 1.25rem 1.25rem 0.25rem;

}



.comment-header {

    display: flex;

    justify-content: space-between;

    align-items: center;

    margin-bottom: 0.75rem;

}



.comment-author {

    font-weight: 800;

    color: var(--primary);

    font-size: 0.75rem;

    letter-spacing: 0.02em;

}



.comment-date {

    color: #94a3b8;

    font-size: 0.7rem;

    margin-left: 0.5rem;

}



.comment-edited {

    font-size: 0.65rem;

    color: var(--primary);

    font-style: italic;

    margin-left: 0.25rem;

    opacity: 0.8;

}



.comment-actions {

    display: flex;

    gap: 0.5rem;

    align-items: center;

}



.btn-edit-comment {

    background: none;

    border: none;

    color: #94a3b8;

    cursor: pointer;

    font-size: 0.75rem;

    padding: 2px;

    transition: color 0.2s;

}



.btn-edit-comment:hover {

    color: var(--primary);

}



.comment-bubble p {

    margin: 0;

    font-size: 0.9rem;

    color: var(--sidebar-bg);

    line-height: 1.5;

    word-break: break-word;

}



.edit-comment-area {

    width: 100%;

    min-height: 60px;

    padding: 0.5rem;

    border: 1px solid var(--primary);

    border-radius: 0.5rem;

    font-size: 0.9rem;

    font-family: inherit;

    margin-bottom: 0.5rem;

    resize: vertical;

}



.edit-actions {

    display: flex;

    gap: 0.5rem;

    justify-content: flex-end;

}



.btn-save-edit, .btn-cancel-edit {

    padding: 0.25rem 0.75rem;

    font-size: 0.75rem;

    border-radius: 0.25rem;

    cursor: pointer;

    font-weight: 600;

}



.btn-save-edit {

    background: var(--primary);

    color: white;

    border: none;

}



.btn-cancel-edit {

    background: #f1f5f9;

    color: #64748b;

    border: 1px solid #e2e8f0;

}



.comment-footer {

    position: sticky;

    bottom: 0;

    background: #f8fafc;

    padding-top: 1rem;

    margin-top: auto;

}



/* Header Extensiones */

.extensions-header-main {

    margin-bottom: 1rem;

    display: flex;

    justify-content: center;

}



.crear-elemento-container {

    position: relative;

    width: 100%;

}



.btn-crear-main {

    width: 100%;

    padding: 0.85rem;

    background: white;

    color: var(--primary);

    border: 2px dashed #e2e8f0;

    border-radius: 1rem;

    font-weight: 700;

    font-size: 0.9rem;

    cursor: pointer;

    display: flex;

    align-items: center;

    justify-content: center;

    gap: 0.5rem;

    transition: all 0.2s;

}



.btn-crear-main:hover {

    background: #f8fafc;

    border-color: var(--primary);

    transform: translateY(-2px);

}



.crear-menu {

    position: absolute;

    top: calc(100% + 5px);

    left: 0;

    width: 100%;

    background: white;

    border-radius: 1rem;

    box-shadow: 0 10px 15px -3px rgba(0,0,0,0.1);

    border: 1px solid #f1f5f9;

    z-index: 100;

    overflow: hidden;

    display: flex;

    flex-direction: column;

}



.crear-menu button {

    padding: 0.75rem 1rem;

    border: none;

    background: none;

    text-align: left;

    font-size: 0.85rem;

    color: var(--sidebar-bg);

    cursor: pointer;

    display: flex;

    align-items: center;

    gap: 0.75rem;

    transition: background 0.2s;

}



.crear-menu button:hover {

    background: #f1f5f9;

    color: var(--primary);

}



.crear-menu button i {

    color: var(--primary);

    width: 20px;

    text-align: center;

}



/* Modal Body Grid */

.modal-body {

    display: flex;

    flex-direction: column;

    gap: 1.5rem;

}



@media (min-width: 1024px) {

    .modal-body {

        display: grid;

        grid-template-columns: 1fr 400px;

        gap: 2rem;

        align-items: start;

    }

}



.modal-header-with-edit {

    display: flex;

    justify-content: space-between;

    align-items: flex-start;

    margin-bottom: 0.5rem;

}



.modal-title-group {

    display: flex;

    flex-direction: column;

    gap: 0.25rem;

}



.modal-content h3 {

    margin: 0;

    color: var(--primary);

    font-size: 1.75rem;

    font-weight: 800;

    line-height: 1.2;

}



#modal-task-subtitle {

    margin: 0;

    color: var(--text-muted);

    font-size: 0.9rem;

}



.btn-edit-mode {

    width: 36px;

    height: 36px;

    border-radius: 50%;

    display: flex;

    align-items: center;

    justify-content: center;

    background: #f1f5f9;

    color: #64748b;

    cursor: pointer;

    transition: all 0.2s;

}



.btn-edit-mode:hover {

    background: var(--primary);

    color: white;

}



.btn-edit-mode.active {

    background: var(--emerald);

    color: white;

}



@keyframes modal-appear {

    from { opacity: 0; transform: translateY(20px) scale(0.95); }

    to { opacity: 1; transform: translateY(0) scale(1); }

}



.modal-actions { 

    display: flex; 

    gap: 0.75rem; 

    margin-top: 0.5rem; 

}



.modal-actions button { 

    flex: 1; 

    padding: 0.75rem; 

    border-radius: 0.75rem; 

    border: none; 

    cursor: pointer; 

    font-weight: 600; 

    font-size: 0.95rem;

    transition: all 0.2s;

}



#save-project, #save-task {

    background: var(--primary);

    color: white;

}



#save-project:hover, #save-task:hover {

    background: #1e3a8a;

    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);

}



.close-modal {
    color: #475569;
}



.close-modal:hover {
    background: #059669;
    color: white !important;
}



.modal input, .modal textarea {

    padding: 0.75rem 1rem;

    border-radius: 0.75rem;

    border: 1px solid #e2e8f0;

    font-size: 0.95rem;

    transition: all 0.2s;

}



.modal input:focus {

    outline: none;

    border-color: var(--primary);

    box-shadow: 0 0 0 3px rgba(30, 58, 138, 0.1);

}

.modal-body input, 

.modal-body textarea, 

.modal-body select {

    width: 100%;

    padding: 1rem 1.25rem;

    margin-bottom: 2rem; /* Espaciado generoso */

    border: 1px solid #e2e8f0;

    border-radius: 1rem;

    font-size: 1rem;

    background: #f8fafc;

    transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);

    font-family: inherit;

}



.modal-body input:focus, 

.modal-body textarea:focus {

    outline: none;

    border-color: var(--primary);

    background: white;

    box-shadow: 0 0 0 4px rgba(30, 58, 138, 0.1);

}



.modal-body textarea {

    resize: none;

    min-height: 120px;

    line-height: 1.6;

}



#save-project, #save-task { background: var(--primary); color: white; }



/* Dashboard & Metrics */

.dashboard-header {

    margin-bottom: 1.5rem;

    padding: 2rem 2rem 0;

}



.brand-badge {

    display: inline-flex;

    align-items: center;

    gap: 0.6rem;

    padding: 0.5rem 1rem;

    background: white;

    border-radius: 3rem;

    border: 1px solid #e2e8f0;

    margin-bottom: 1.5rem;

    box-shadow: 0 2px 4px rgba(0,0,0,0.02);

}



.brand-badge img {

    height: 18px;

    width: auto;

}



.brand-badge span {

    font-size: 0.75rem;

    font-weight: 800;

    color: var(--primary);

    letter-spacing: 0.1em;

    text-transform: uppercase;

}



.dashboard-header h2 { 

    font-size: 1.6rem; 

    color: #0f172a; 

    margin-bottom: 0.4rem; 

    font-weight: 700;

}



.dashboard-header p { 

    color: #64748b; 

    font-size: 0.95rem;

}



.metrics-grid {

    display: grid;

    grid-template-columns: repeat(3, 1fr);

    gap: 1.5rem;

    padding: 1.5rem 2rem 2.5rem;

}



.metric-card {

    background: white;

    padding: 1.25rem;

    border-radius: 1rem;

    display: flex;

    align-items: center;

    gap: 1rem;

    box-shadow: 0 1px 3px rgba(0,0,0,0.05);

    border: 1px solid #e2e8f0;

}



.metric-icon {

    width: 44px;

    height: 44px;

    background: #f1f5f9;

    color: #1e3a8a;

    border-radius: 50%;

    display: flex;

    align-items: center;

    justify-content: center;

    font-size: 1rem;

}



.metric-icon.alert { background: #fee2e2; color: #ef4444; }

.metric-icon.success { background: #dcfce7; color: #22c55e; }

.metric-icon.warning { background: #fff7ed; color: #f59e0b; }



.metric-info { display: flex; flex-direction: column; }

.metric-label { font-size: 0.8rem; color: #64748b; font-weight: 500; text-transform: uppercase; letter-spacing: 0.025em; }

.metric-value { font-size: 1.5rem; font-weight: 700; color: #0f172a; }



.section-title {

    padding: 0 2rem;

    margin-bottom: 1.25rem;

}



.section-title h3 {

    font-size: 1.1rem;

    color: #0f172a;

    font-weight: 600;

}



.project-gallery {

    display: grid;

    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));

    gap: 1.5rem;

    padding: 1.25rem 2rem 2.5rem; /* Añadimos padding superior para que no se corte al hacer hover (translateY) */

}



.project-card {

    background: white;

    padding: 1.5rem;

    border-radius: 1.25rem;

    border: 1px solid var(--border);

    cursor: pointer;

    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);

    display: flex;

    flex-direction: column;

    box-shadow: var(--shadow-sm);

    position: relative;

    overflow: hidden;

}



.project-card::before {

    content: "";

    position: absolute;

    top: 0;

    left: 0;

    width: 100%;

    height: 4px;

    background: var(--primary);

    opacity: 0;

    transition: opacity 0.3s;

}



.project-card:hover {

    transform: translateY(-8px);

    box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.08), 0 10px 10px -5px rgba(0, 0, 0, 0.04);

    border-color: #e2e8f0;

}



.project-card:hover::before {

    opacity: 1;

}



.btn-view-details {

    font-size: 0.75rem; 

    color: var(--primary); 

    font-weight: 700;

    letter-spacing: 0.05em;

    display: flex;

    align-items: center;

    gap: 0.5rem;

}



.project-badge {

    background: #f1f5f9; 

    padding: 0.35rem 0.75rem; 

    border-radius: 2rem; 

    font-size: 0.7rem; 

    color: #64748b;

    font-weight: 600;

}



/* Mini Avatares en Tarjetas */

.card-mini-avatar {

    width: 28px;

    height: 28px;

    border-radius: 50%;

    display: flex;

    align-items: center;

    justify-content: center;

    color: white;

    font-size: 0.75rem;

    font-weight: 700;

    border: 2px solid white;

    margin-left: -10px;

    box-shadow: 0 2px 4px rgba(0,0,0,0.1);

    position: relative;

    transition: transform 0.2s, z-index 0.2s;

    cursor: default;

}



.card-mini-avatar:hover {

    transform: translateY(-5px) scale(1.1);

    z-index: 10 !important;

}



.project-card .fa-trash-alt:hover {

    color: #ef4444 !important;

}



.project-card h3 {

    font-size: 1.1rem;

    color: var(--text-main);

    margin: 0;

}



.project-card .project-meta {

    font-size: 0.85rem;

    color: var(--text-muted);

    display: flex;

    align-items: center;

    gap: 0.5rem;

}



.empty-state {

    grid-column: 1 / -1;

    text-align: center;

    padding: 4rem 2rem;

    background: white;

    border-radius: 1rem;

    border: 2px dashed var(--border);

}



.empty-state h3 { margin-bottom: 1rem; color: var(--text-main); }



.btn-start {

    background: var(--primary);

    color: white;

    padding: 0.8rem 1.5rem;

    border-radius: 0.5rem;

    border: none;

    font-weight: 600;

    cursor: pointer;

    transition: background 0.2s;

}



.btn-start:hover { background: var(--primary-hover); }



.hidden { display: none !important; }



/* Timeline view */

#timeline-container { padding: 1.5rem; flex: 1; overflow: auto; }

#timeline-canvas { background: white; border-radius: 0.5rem; border: 1px solid var(--border); }



/* --- CUSTOM ALERTS & CONFIRMS --- */

.custom-alert-overlay {

    position: fixed;

    top: 0;

    left: 0;

    width: 100%;

    height: 100%;

    background: rgba(0, 0, 0, 0.7);

    backdrop-filter: blur(4px);

    display: flex;

    align-items: center;

    justify-content: center;

    z-index: 9999;

}



.custom-alert-card {

    background: white;

    padding: 2rem;

    border-radius: 1.25rem;

    max-width: 420px;

    width: 90%;

    text-align: center;

    box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);

    animation: slideUp 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);

}



@keyframes slideUp { 

    from { transform: translateY(30px) scale(0.95); opacity: 0; } 

    to { transform: translateY(0) scale(1); opacity: 1; } 

}



.alert-icon { font-size: 3.5rem; margin-bottom: 1rem; }

.alert-icon.error { color: #ef4444; }

.alert-icon.success { color: #10b981; }

.alert-icon.warning { color: #f59e0b; }

.alert-icon.info { color: #3b82f6; }



.alert-title { 

    font-weight: 800; 

    font-size: 1.5rem; 

    color: #082359; 

    margin-bottom: 0.75rem; 

}



.alert-msg { 

    color: #64748b; 

    margin-bottom: 2rem; 

    line-height: 1.6; 

    font-size: 1rem;

}



.alert-actions {

    display: flex;

    gap: 1rem;

    justify-content: center;

}



.alert-btn { 

    background: #05A64B; 

    color: white; 

    border: none; 

    padding: 0.8rem 2rem; 

    border-radius: 0.75rem; 

    font-weight: 700; 

    cursor: pointer; 

    transition: all 0.2s;

    flex: 1;

}



.alert-btn:hover { 

    filter: brightness(1.1);

    transform: translateY(-1px);

}



.alert-btn.secondary {

    background: #f1f5f9;

    color: #64748b;

}



.alert-btn.danger {

    background: #ef4444;

}





/* --- HISTORY VIEW --- */

.history-container {

    padding: 2rem;

    width: 100%;

    height: 100%;

    display: flex;

    flex-direction: column;

}



.history-header {

    display: flex;

    justify-content: space-between;

    align-items: center;

    margin-bottom: 2rem;

    padding-bottom: 1rem;

    border-bottom: 2px solid var(--border);

}



.history-header h3 {

    font-size: 1.5rem;

    color: var(--sidebar-bg);

    display: flex;

    align-items: center;

    gap: 0.75rem;

}



.history-list {

    flex: 1;

    overflow-y: auto;

    padding-right: 1rem;

}



/* Vista de Cuadrícula de Carpetas (Estilo Imagen Usuario) */

.history-folder-grid {

    display: grid;

    grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));

    gap: 1.5rem;

    padding: 0.5rem;

}



.history-folder-card {

    background: white;

    padding: 1.5rem;

    border-radius: 1rem;

    display: flex;

    align-items: center;

    gap: 1.25rem;

    cursor: pointer;

    border-left: 5px solid #ffa500; /* Naranja como la imagen */

    box-shadow: var(--shadow-sm);

    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);

}



.history-folder-card:hover {

    transform: translateY(-4px);

    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);

    border-left-color: var(--primary);

}



/* Detalle de Historial (Full Width) */

.history-detail-header {

    display: flex;

    align-items: center;

    gap: 1.5rem;

    margin-bottom: 2rem;

    padding-bottom: 1rem;

    border-bottom: 2px solid #f1f5f9;

}



.history-detail-header h3 {

    margin: 0;

    font-size: 1.5rem;

    color: var(--sidebar-bg);

}



.history-log-stack {

    display: flex;

    flex-direction: column;

    gap: 1.25rem;

    width: 100%;

}



.log-item {

    background: white;

    padding: 1.25rem 1.5rem;

    border-radius: 1rem;

    border: 1px solid #e2e8f0;

    display: flex;

    flex-direction: column;

    gap: 0.5rem;

    width: 100%;

    transition: all 0.2s;

}



.log-item:hover {

    border-color: var(--primary);

    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05);

}



.log-header {

    display: flex;

    justify-content: space-between;

    align-items: center;

}



.log-action {

    font-size: 0.9rem;

    font-weight: 700;

    color: var(--sidebar-bg);

}



.log-time {

    font-size: 0.75rem;

    color: #94a3b8;

}



.log-diff {

    font-size: 0.85rem;

    color: #64748b;

    padding: 0.5rem;

    background: #f8fafc;

    border-radius: 0.5rem;

    border-left: 3px solid #cbd5e1;

}



.log-diff strong {

    color: var(--primary);

}





.folder-icon-wrapper {

    font-size: 2.2rem;

    color: #ffb700;

    display: flex;

    align-items: center;

    justify-content: center;

    flex-shrink: 0;

}



.folder-content-info {

    flex: 1;

}



.folder-content-info h4 {

    margin: 0;

    font-size: 1.1rem;

    color: var(--sidebar-bg);

    margin-bottom: 0.3rem;

    font-weight: 700;

    line-height: 1.2;

}



.folder-content-info p {

    margin: 0;

    font-size: 0.85rem;

    color: #64748b;

}



/* Vista Detallada de Carpeta */

.history-detail-view {

    display: flex;

    flex-direction: column;

    gap: 1rem;

    padding: 1rem;

}



.history-back-header {

    display: flex;

    align-items: center;

    gap: 1rem;

    margin-bottom: 1.5rem;

    padding: 0.75rem 1rem;

    background: #f1f5f9;

    border-radius: 0.75rem;

    cursor: pointer;

    transition: background 0.2s;

    font-weight: 600;

    color: var(--sidebar-bg);

}



.history-back-header:hover {

    background: #e2e8f0;

}



.history-back-header i { color: var(--primary); }



.history-item {

    background: #f8fafc;

    padding: 1rem;

    border-radius: 0.75rem;

    display: flex;

    align-items: flex-start;

    gap: 1rem;

    border-left: 3px solid var(--primary);

    font-size: 0.95rem;

}



.history-item {

    background: #f8fafc;

    padding: 1rem;

    border-radius: 0.75rem;

    display: flex;

    align-items: flex-start;

    gap: 1rem;

    box-shadow: none;

    border-left: 3px solid var(--primary);

    transition: transform 0.2s;

    font-size: 0.95rem;

}



.history-item:hover {

    transform: translateX(3px);

    background: white;

    box-shadow: var(--shadow-sm);

}



.history-item.delete { border-left-color: #ef4444; }

.history-item.move { border-left-color: #f59e0b; }

.history-item.create { border-left-color: #10b981; }

.history-item.update { border-left-color: #3b82f6; }

.history-item.reply { border-left-color: #8b5cf6; }

.history-item.comment { border-left-color: #0d9488; }



.history-icon {

    width: 40px;

    height: 40px;

    border-radius: 50%;

    display: flex;

    align-items: center;

    justify-content: center;

    flex-shrink: 0;

    font-size: 1.1rem;

}



.history-icon.delete { background: #fef2f2; color: #ef4444; }

.history-icon.move { background: #fffbeb; color: #f59e0b; }

.history-icon.create { background: #f0fdf4; color: #10b981; }

.history-icon.update { background: #eff6ff; color: #3b82f6; }

.history-icon.reply { background: #f5f3ff; color: #8b5cf6; }

.history-icon.comment { background: #f0fdfa; color: #0d9488; }



.history-content {

    flex: 1;

}



.history-main-text {

    font-size: 1rem;

    color: var(--text-main);

    margin-bottom: 0.25rem;

}



.history-main-text strong {

    color: var(--sidebar-bg);

    font-weight: 700;

}



.history-time {

    font-size: 0.8rem;

    color: var(--text-muted);

    display: flex;

    align-items: center;

    gap: 0.4rem;

}



.history-empty {

    display: flex;

    flex-direction: column;

    align-items: center;

    justify-content: center;

    height: 300px;

    color: var(--text-muted);

    gap: 1rem;

}



.history-empty i {

    font-size: 4rem;

    opacity: 0.2;

}



/* --- REPRODUCTOR DE AUDIO FLOTANTE PC --- */

.audio-player-bar {

    position: fixed;

    bottom: 2rem;

    left: 50%;

    transform: translateX(-50%) translateY(120%);

    z-index: 10000;

    width: 90%;

    max-width: 800px;

    transition: transform 0.4s cubic-bezier(0.16, 1, 0.3, 1);

}



.audio-player-bar:not(.hidden) {

    transform: translateX(-50%) translateY(0);

}



.player-content.glass {

    background: rgba(255, 255, 255, 0.85);

    backdrop-filter: blur(20px) saturate(180%);

    -webkit-backdrop-filter: blur(20px) saturate(180%);

    border: 1px solid rgba(255, 255, 255, 0.3);

    border-radius: 2rem;

    padding: 1rem 1.5rem;

    display: flex;

    align-items: center;

    justify-content: space-between;

    gap: 2rem;

    box-shadow: 0 10px 40px rgba(0,0,0,0.1);

}



.player-left {

    display: flex;

    align-items: center;

    gap: 1rem;

    min-width: 180px;

}



.player-icon-box {

    width: 45px;

    height: 45px;

    background: var(--primary);

    color: white;

    border-radius: 50%;

    display: flex;

    align-items: center;

    justify-content: center;

    font-size: 1.2rem;

}



.pulse-audio {

    animation: audioPulse 2s infinite ease-in-out;

}



@keyframes audioPulse {

    0% { box-shadow: 0 0 0 0 rgba(5, 166, 75, 0.4); }

    70% { box-shadow: 0 0 0 10px rgba(5, 166, 75, 0); }

    100% { box-shadow: 0 0 0 0 rgba(5, 166, 75, 0); }

}



.player-meta {

    display: flex;

    flex-direction: column;

}



.p-title {

    font-weight: 800;

    font-size: 0.85rem;

    color: var(--dark);

    white-space: nowrap;

}



.p-timer {

    font-size: 0.75rem;

    color: var(--text-muted);

    font-variant-numeric: tabular-nums;

}



.player-center {

    flex: 1;

    display: flex;

    align-items: center;

    gap: 1.25rem;

}



.p-btn-main {

    width: 48px;

    height: 48px;

    border-radius: 50%;

    border: none;

    background: #082359;

    color: white;

    cursor: pointer;

    display: flex;

    align-items: center;

    justify-content: center;

    font-size: 1.1rem;

    transition: all 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.275);

    box-shadow: 0 4px 12px rgba(8, 35, 89, 0.3);

}



.p-btn-main:hover {

    transform: scale(1.1);

    background: #000;

}



.p-btn-main:active {

    transform: scale(0.9);

}



.p-btn-main.loading {

    animation: btnRotate 1s infinite linear;

    opacity: 0.7;

}



@keyframes btnRotate {

    from { transform: rotate(0deg); }

    to { transform: rotate(360deg); }

}



/* Feedback instantáneo al presionar */

.p-btn-press-anim {

    animation: btnPress 0.4s ease-out;

}



@keyframes btnPress {

    0% { transform: scale(1); box-shadow: 0 0 0 0 rgba(8, 35, 89, 0.5); }

    50% { transform: scale(0.9); box-shadow: 0 0 0 10px rgba(8, 35, 89, 0); }

    100% { transform: scale(1); }

}



.p-timeline-box {

    flex: 1;

    position: relative;

    height: 6px;

    display: flex;

    align-items: center;

}



.p-slider {

    -webkit-appearance: none;

    width: 100%;

    height: 6px;

    background: #e2e8f0;

    border-radius: 3px;

    outline: none;

    cursor: pointer;

    position: relative;

    z-index: 2;

}



.p-slider::-webkit-slider-thumb {

    -webkit-appearance: none;

    width: 14px;

    height: 14px;

    background: var(--primary);

    border-radius: 50%;

    cursor: pointer;

    border: 2px solid white;

    box-shadow: 0 2px 5px rgba(0,0,0,0.2);

}



.p-track {

    position: absolute;

    left: 0;

    top: 0;

    height: 100%;

    background: var(--primary);

    border-radius: 3px;

    pointer-events: none;

    z-index: 1;

}



.player-right {

    display: flex;

    align-items: center;

    gap: 1rem;

}



.p-volume-box {

    display: flex;

    align-items: center;

    gap: 0.75rem;

    padding-right: 1rem;

    border-right: 1px solid #e2e8f0;

}



.p-v-icon { color: var(--text-muted); font-size: 0.9rem; width: 20px; }



.p-vol-container {

    position: relative;

    width: 80px;

    height: 4px;

    display: flex;

    align-items: center;

}



.p-slider-vol {

    -webkit-appearance: none;

    width: 100%;

    height: 4px;

    background: #e2e8f0;

    border-radius: 2px;

    outline: none;

    position: relative;

    z-index: 2;

    cursor: pointer;

}



.p-vol-track {

    position: absolute;

    left: 0;

    top: 0;

    height: 100%;

    background: #2563eb; /* Azul intenso para mejor contraste */

    border-radius: 2px;

    pointer-events: none;

    z-index: 1;

    width: 100%;

}



.p-slider-vol::-webkit-slider-thumb {

    -webkit-appearance: none;

    width: 14px;

    height: 14px;

    background: white;

    border-radius: 50%;

    cursor: pointer;

    border: 2px solid #2563eb;

    box-shadow: 0 1px 4px rgba(0,0,0,0.3);

}



.p-btn-action {

    background: none;

    border: none;

    color: var(--text-muted);

    font-size: 1.1rem;

    cursor: pointer;

    transition: color 0.2s;

    padding: 0.5rem;

}



.p-btn-action:hover { color: var(--dark); }



.audio-player-bar.hidden {

    transform: translateX(-50%) translateY(150%);

    pointer-events: none;

}



/* Rediseño de la burbuja de audio en el chat */

.comment-audio-player {

    background: #f1f5f9;

    padding: 0.75rem 1rem;

    border-radius: 1rem;

    margin-top: 0.5rem;

    border-left: 4px solid var(--primary);

}



.audio-controls {

    display: flex;

    align-items: center;

    gap: 0.75rem;

}



.btn-audio-action {

    width: 35px;

    height: 35px;

    border-radius: 50%;

    border: none;

    background: var(--primary);

    color: white;

    cursor: pointer;

    display: flex;

    align-items: center;

    justify-content: center;

}








/* Floating Action Button */
.fab-project {
    position: fixed;
    bottom: 2.5rem;
    right: 2.5rem;
    width: 65px;
    height: 65px;
    border-radius: 50%;
    background: var(--primary);
    color: white;
    border: none;
    box-shadow: 0 10px 25px -5px rgba(8, 35, 89, 0.4);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.6rem;
    cursor: pointer;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    z-index: 1000;
}

.fab-project:hover {
    transform: scale(1.1);
    background: #061c4a;
    box-shadow: 0 15px 30px -5px rgba(8, 35, 89, 0.5);
}

.fab-project:active {
    transform: scale(0.95);
}

.fab-project.hidden {
    display: none;
}

/* Ideas View */
.ideas-container {
    padding: 1rem 2rem 5rem;
}

.ideas-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
    gap: 1.5rem;
}

.idea-card {
    background: #fff9c4;
    padding: 1.5rem;
    border-radius: 0.5rem;
    box-shadow: 2px 4px 10px rgba(0,0,0,0.05);
    position: relative;
    min-height: 200px;
    display: flex;
    flex-direction: column;
    transform: rotate(-1deg);
    transition: all 0.2s ease;
    cursor: default;
    border: 1px solid rgba(0,0,0,0.05);
}

.idea-card:nth-child(even) { transform: rotate(1.5deg); }
.idea-card:nth-child(3n) { transform: rotate(-0.5deg); }

.idea-card:hover {
    transform: scale(1.03) rotate(0deg);
    box-shadow: 5px 10px 20px rgba(0,0,0,0.1);
    z-index: 10;
}

.idea-card.favorite {
    border: 2px solid #fbbf24;
}

.idea-card-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    margin-bottom: 1rem;
}

.idea-card h4 {
    margin: 0;
    font-size: 1.1rem;
    color: #1e293b;
    font-weight: 700;
    line-height: 1.2;
}

.idea-content-text {
    font-size: 0.9rem;
    color: #475569;
    line-height: 1.5;
    flex-grow: 1;
    white-space: pre-wrap;
    margin-bottom: 1rem;
}

.idea-actions {
    display: flex;
    justify-content: flex-end;
    gap: 0.75rem;
    margin-top: auto;
    padding-top: 1rem;
}

.btn-idea-action {
    background: rgba(255,255,255,0.5);
    border: none;
    width: 32px;
    height: 32px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    color: #64748b;
    transition: all 0.2s;
}

.btn-idea-action:hover {
    background: white;
    color: var(--primary);
}

.btn-idea-action.active-fav {
    color: #fbbf24;
    background: white;
}

.btn-convert-project {
    background: #0f172a;
    color: white;
    border: none;
    padding: 0.5rem 0.75rem;
    border-radius: 0.5rem;
    font-size: 0.7rem;
    font-weight: 700;
    cursor: pointer;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    transition: all 0.2s;
}

.btn-convert-project:hover {
    background: #334155;
    transform: translateY(-2px);
}

/* Elegant Audio Player for Ideas */
.idea-audio-box {
    background: rgba(255,255,255,0.4);
    border-radius: 0.75rem;
    padding: 0.75rem;
    display: flex;
    align-items: center;
    gap: 0.75rem;
    margin-bottom: 1rem;
}

.idea-audio-play-btn {
    width: 35px;
    height: 35px;
    border-radius: 50%;
    background: white;
    border: none;
    color: var(--primary);
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    box-shadow: 0 2px 5px rgba(0,0,0,0.05);
}

.idea-audio-wave {
    flex-grow: 1;
    height: 3px;
    background: rgba(0,0,0,0.05);
    border-radius: 2px;
    position: relative;
}

.idea-audio-progress {
    position: absolute;
    left: 0;
    top: 0;
    height: 100%;
    background: var(--primary);
    border-radius: 2px;
    width: 0%;
}



.sidebar-footer {
    padding: 1.5rem;
    border-top: 1px solid rgba(255,255,255,0.05);
    margin-top: auto;
}

.powered-by-sidebar {
    display: flex;
    flex-direction: row;
    align-items: center;
    gap: 10px;
    padding: 6px 12px;
    background: rgba(0, 0, 0, 0.3);
    border-radius: 20px;
    opacity: 0.7;
    transition: all 0.3s;
    border: 1px solid rgba(255, 255, 255, 0.05);
}

.powered-by-sidebar:hover {
    opacity: 1;
}

.powered-by-sidebar span {
    font-size: 0.65rem;
    color: white;
    text-transform: uppercase;
    letter-spacing: 1px;
    font-weight: 500;
}

.powered-by-sidebar img {
    height: 18px;
    filter: brightness(0) invert(1);
}




.sidebar-footer {

    padding: 1.5rem;

    border-top: 1px solid rgba(255,255,255,0.05);

    margin-top: auto;

}



.powered-by-sidebar {

    display: flex;

    flex-direction: column;

    align-items: center;

    gap: 4px;

    opacity: 0.6;

    transition: opacity 0.3s;

}



.powered-by-sidebar:hover {

    opacity: 1;

}



.powered-by-sidebar span {

    font-size: 0.65rem;

    color: white;

    text-transform: uppercase;

    letter-spacing: 1px;

    font-weight: 500;

}



.powered-by-sidebar img {

    height: 18px;

    filter: brightness(0) invert(1);

}


/* ==========================================================================
   BANCO DE IDEAS - STICKY NOTES UI
   ========================================================================== */

.ideas-container {
    padding: 2rem 3rem;
    max-width: 1400px;
    margin: 0 auto;
}

.ideas-section {
    margin-bottom: 3rem;
}

.ideas-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
    gap: 2rem;
    perspective: 1000px;
}

/* Base de la Nota Adhesiva */
.idea-card {
    background: #fff9c4;
    padding: 1.5rem;
    border-radius: 2px;
    box-shadow: 0 4px 10px rgba(0,0,0,0.1), 0 2px 4px rgba(0,0,0,0.05);
    min-height: 200px;
    display: flex;
    flex-direction: column;
    position: relative;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    cursor: default;
    overflow: hidden;
    transform: rotate(-1deg);
}

.idea-card:nth-child(even) { transform: rotate(1.5deg); }
.idea-card:nth-child(3n) { transform: rotate(-0.5deg); }

.idea-card:hover {
    transform: translateY(-8px) rotate(0deg) scale(1.02);
    box-shadow: 0 15px 30px rgba(0,0,0,0.12);
    z-index: 10;
}

.idea-card::before {
    content: '';
    position: absolute;
    top: 10px;
    left: 50%;
    transform: translateX(-50%);
    width: 12px;
    height: 12px;
    background: rgba(0,0,0,0.1);
    border-radius: 50%;
    box-shadow: inset 0 2px 4px rgba(0,0,0,0.2);
    z-index: 2;
}

.idea-card-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    margin-bottom: 1rem;
    padding-top: 0.5rem;
}

.idea-card h4 {
    font-size: 1.1rem;
    font-weight: 700;
    color: #5d4037;
    margin: 0;
    line-height: 1.3;
    font-family: 'Inter', sans-serif;
}

.idea-fav-btn {
    background: transparent;
    border: none;
    color: #d4a017;
    cursor: pointer;
    font-size: 1.1rem;
    padding: 4px;
    transition: transform 0.2s;
}

.idea-body {
    flex: 1;
    font-size: 1rem;
    color: #5d4037;
    line-height: 1.5;
    margin-bottom: 1.5rem;
    white-space: pre-wrap;
    font-family: 'Inter', sans-serif;
    max-height: 150px;
    overflow-y: auto;
}

.idea-body::-webkit-scrollbar { width: 4px; }
.idea-body::-webkit-scrollbar-thumb { background: rgba(0,0,0,0.1); border-radius: 10px; }

.idea-footer {
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-top: 1px dashed rgba(0,0,0,0.1);
    padding-top: 1rem;
}

.idea-actions {
    display: flex;
    gap: 0.75rem;
}

.btn-idea-action {
    background: white;
    border: none;
    width: 32px;
    height: 32px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    color: #5d4037;
    font-size: 0.85rem;
    box-shadow: 0 2px 5px rgba(0,0,0,0.05);
    transition: all 0.2s;
}

.btn-idea-action:hover {
    background: #0f172a;
    color: white;
    transform: scale(1.1);
}

.converted-badge {
    position: absolute;
    top: 10px;
    right: 10px;
    background: #05A64B;
    color: white;
    padding: 2px 8px;
    border-radius: 10px;
    font-size: 0.6rem;
    font-weight: 800;
}

.fab-project {
    position: fixed;
    bottom: 30px;
    right: 30px;
    width: 65px;
    height: 65px;
    border-radius: 50%;
    background: #05A64B;
    color: white;
    border: none;
    font-size: 1.75rem;
    cursor: pointer;
    box-shadow: 0 10px 25px rgba(5, 166, 75, 0.4);
    display: flex; /* Cambiado de none a flex */
    align-items: center;
    justify-content: center;
    z-index: 1000;
    transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
}

.sidebar-footer {
    padding: 1.5rem;
    border-top: 1px solid rgba(255,255,255,0.05);
    margin-top: auto;
}

.powered-by-sidebar {
    display: flex;
    flex-direction: row;
    align-items: center;
    gap: 10px;
    padding: 6px 12px;
    background: rgba(0, 0, 0, 0.3);
    border-radius: 20px;
    opacity: 0.7;
    transition: all 0.3s;
    border: 1px solid rgba(255, 255, 255, 0.05);
}

.powered-by-sidebar img {
    height: 18px;
    filter: brightness(0) invert(1);
}

/* Elegant Audio Player for Ideas */
.idea-audio-box {
    background: rgba(255,255,255,0.4);
    border-radius: 0.75rem;
    padding: 0.75rem;
    display: flex;
    align-items: center;
    gap: 0.75rem;
    margin-bottom: 1rem;
}

.idea-audio-play-btn {
    width: 35px;
    height: 35px;
    border-radius: 50%;
    background: white;
    border: none;
    color: var(--primary);
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    box-shadow: 0 2px 5px rgba(0,0,0,0.05);
}

.idea-audio-wave {
    flex-grow: 1;
    height: 3px;
    background: rgba(0,0,0,0.05);
    border-radius: 2px;
    position: relative;
}

.idea-audio-progress {
    position: absolute;
    left: 0;
    top: 0;
    height: 100%;
    background: var(--primary);
    border-radius: 2px;
    width: 0%;
}

/* Ajustes adicionales para Ideas */
.idea-fav-btn.active { color: #f59e0b !important; }
.btn-idea-action.delete:hover { background: #ef4444 !important; color: white !important; }

/* Dashboard Nueva Idea Button */
#btn-dashboard-new-idea {
    transition: all 0.3s ease;
}
#btn-dashboard-new-idea:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 15px -3px rgba(5, 166, 75, 0.1);
    background: #e1fded !important;
}

/* Modal Idea adjustments */
#idea-text-box textarea:focus {
    border-color: #fbbf24 !important;
    background: white;
}
.btn-rec.recording {
    animation: pulse-red 1.5s infinite;
}

/* Botón Crear Proyecto dentro de Idea Card */
.btn-convert-idea {
    background: #0f172a;
    color: white;
    border: none;
    padding: 0.6rem 1.2rem;
    border-radius: 0.75rem;
    font-size: 0.85rem;
    font-weight: 700;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 0.5rem;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    box-shadow: 0 4px 6px -1px rgba(15, 23, 42, 0.2);
}

.btn-convert-idea:hover {
    background: #05A64B;
    transform: translateY(-2px);
    box-shadow: 0 10px 15px -3px rgba(5, 166, 75, 0.3);
}

.btn-convert-idea:active {
    transform: scale(0.95);
}

.btn-convert-idea i {
    font-size: 0.9rem;
    transition: transform 0.3s ease;
}

.btn-convert-idea:hover i {
    animation: rocket-launch 0.6s ease-in-out infinite alternate;
}

@keyframes rocket-launch {
    from { transform: translate(0, 0) rotate(0deg); }
    to { transform: translate(4px, -4px) rotate(15deg); }
}

/* Ajuste del footer de la idea para alinear mejor */
.idea-footer {
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-top: 1px dashed rgba(0,0,0,0.1);
    padding-top: 1rem;
    margin-top: auto;
}

/* Badges de Estado de Proyecto */
.project-badge {
    padding: 4px 10px;
    border-radius: 12px;
    font-size: 0.65rem;
    font-weight: 800;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.project-badge.status-active {
    background: #e0f2fe;
    color: #0369a1;
}

.project-badge.status-done {
    background: #dcfce7;
    color: #15803d;
}

/* Detalles del Modal de Proyecto */
#modal-project-details .details-section label {
    color: #94a3b8;
    margin-bottom: 0.5rem;
}

#btn-details-open-kanban:hover {
    transform: translateY(-2px);
    background: #059669 !important;
}

#btn-details-delete:hover {
    background: #fee2e2 !important;
    color: #ef4444 !important;
}

.project-card {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
    border: 1px solid #e2e8f0;
    cursor: pointer;
}

.project-card:hover {
    border-color: var(--primary);
    transform: translateY(-5px);
    box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
}

.project-card:hover .btn-view-details {
    color: var(--primary-hover) !important;
}

.project-card:hover .btn-view-details i {
    transform: translateX(3px);
}

.btn-view-details i {
    transition: transform 0.2s;
}

/* Ideas Convertidas */
.idea-card.converted {
    background: #f1f5f9 !important; /* Gris claro */
    border: 1px solid #e2e8f0;
    opacity: 0.9;
}

.idea-card.converted h4 {
    color: #64748b;
}

.idea-card.converted .idea-body {
    color: #94a3b8;
}

.idea-card.converted::before {
    background: #cbd5e1; /* Sombrear el pin */
}

/* Reproductor de Audio Elegante (Modal Detalles) */
.project-details-audio {
    background: #f1f5f9;
    padding: 1.25rem;
    border-radius: 1rem;
    margin-bottom: 2rem;
    border: 1px solid #e2e8f0;
    display: flex;
    flex-direction: column;
    gap: 1rem;
}

.audio-main-controls {
    display: flex;
    align-items: center;
    gap: 1.25rem;
}

.btn-audio-main {
    width: 48px;
    height: 48px;
    border-radius: 50%;
    background: var(--primary);
    color: white;
    border: none;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    font-size: 1.2rem;
    transition: all 0.2s;
    box-shadow: 0 4px 10px rgba(5, 166, 75, 0.3);
}

.btn-audio-main:hover {
    transform: scale(1.1);
    background: var(--primary-hover);
}

.audio-timeline-container {
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
}

.audio-timeline-slider {
    -webkit-appearance: none;
    width: 100%;
    height: 6px;
    background: #cbd5e1;
    border-radius: 3px;
    outline: none;
    cursor: pointer;
}

.audio-timeline-slider::-webkit-slider-thumb {
    -webkit-appearance: none;
    width: 14px;
    height: 14px;
    background: var(--primary);
    border-radius: 50%;
    cursor: pointer;
    box-shadow: 0 0 5px rgba(0,0,0,0.1);
}

.audio-time-info {
    display: flex;
    justify-content: space-between;
    font-size: 0.7rem;
    color: #64748b;
    font-weight: 700;
    font-family: monospace;
}

.audio-volume-container {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    padding-left: 1rem;
    border-left: 1px solid #cbd5e1;
}

.audio-volume-container i {
    color: #64748b;
    font-size: 0.9rem;
    width: 18px;
}

.volume-slider {
    -webkit-appearance: none;
    width: 80px;
    height: 4px;
    background: #cbd5e1;
    border-radius: 2px;
    outline: none;
}

.volume-slider::-webkit-slider-thumb {
    -webkit-appearance: none;
    width: 10px;
    height: 10px;
    background: #64748b;
    border-radius: 50%;
    cursor: pointer;
}

/* Animaciones de Borrado */
.removing {
    transform: scale(0.9) rotate3d(1, 1, 1, 10deg) translateY(50px) !important;
    opacity: 0 !important;
    transition: all 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55) !important;
    filter: blur(10px);
    pointer-events: none;
}

/* Spinner para el Loading */
.spinner {
    width: 60px;
    height: 60px;
    border: 5px solid rgba(255,255,255,0.1);
    border-top: 5px solid var(--primary);
    border-radius: 50%;
    animation: spin 1s linear infinite;
}

@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

/* Entrada de cards */
.project-card {
    animation: slide-up 0.4s ease-out;
}

@keyframes slide-up {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
}

/* Toast Notifications */
.toast-container {
    position: fixed;
    top: 20px;
    right: 20px;
    z-index: 9999;
    display: flex;
    flex-direction: column;
    gap: 10px;
    pointer-events: none;
}

.toast {
    background: white;
    color: #071A40;
    padding: 12px 16px;
    border-radius: 8px;
    box-shadow: 0 10px 15px -3px rgba(0,0,0,0.2);
    display: flex;
    flex-direction: column;
    gap: 8px;
    min-width: 280px;
    max-width: 380px;
    border-left: 5px solid var(--primary);
    pointer-events: auto;
    animation: slideInRightToast 0.3s ease-out forwards;
}

.toast-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.toast-type {
    font-weight: 700;
    font-size: 0.85rem;
    color: var(--primary);
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.toast-user {
    font-size: 0.8rem;
    color: #64748b;
    font-weight: 600;
}

.toast-body {
    font-size: 0.9rem;
    line-height: 1.4;
    color: #334155;
    word-break: break-word;
}

.toast-btn {
    background: var(--primary);
    color: white;
    border: none;
    padding: 6px 14px;
    border-radius: 6px;
    font-size: 0.8rem;
    font-weight: 700;
    cursor: pointer;
    align-self: flex-end;
    transition: background 0.2s;
}

.toast-btn:hover {
    background: var(--primary-hover);
}

@keyframes slideInRightToast {
    from { transform: translateX(110%); opacity: 0; }
    to { transform: translateX(0); opacity: 1; }
}

@keyframes fadeOutToast {
    to { opacity: 0; transform: translateX(20px); }
}

/* FIX PARA EL BOTON DE CERRAR VERDE */
.modal-close-corner, .close-modal, .modal-close-corner.close-modal {
    background: #10b981 !important;
    color: #ffffff !important;
}

.modal-close-corner:hover, .close-modal:hover {
    background: #059669 !important;
    color: #ffffff !important;
}

/* --- REDISEÑO DREAMNOTES MUSIC HUB PC --- */
.music-hub-layout {
    display: flex;
    flex-direction: column;
    gap: 40px;
    padding: 0 40px 60px 40px; /* Más aire lateral y inferior */
}

.music-hero-card {
    background: linear-gradient(135deg, #082359 0%, #0a3691 100%);
    border-radius: 30px;
    padding: 40px;
    color: white;
    box-shadow: 0 20px 60px rgba(8, 35, 89, 0.2);
    position: relative;
    overflow: hidden;
}

.music-hero-card::before {
    content: '';
    position: absolute;
    top: -50px;
    right: -50px;
    width: 300px;
    height: 300px;
    background: radial-gradient(circle, rgba(5, 166, 75, 0.2) 0%, transparent 70%);
    border-radius: 50%;
}

.hero-content {
    display: flex;
    justify-content: space-between;
    align-items: center;
    position: relative;
    z-index: 2;
}

.brand-badge-alt {
    background: rgba(255, 255, 255, 0.1);
    padding: 6px 15px;
    border-radius: 50px;
    display: inline-flex;
    align-items: center;
    gap: 10px;
    font-size: 0.7rem;
    font-weight: 800;
    letter-spacing: 2px;
    margin-bottom: 20px;
    border: 1px solid rgba(255, 255, 255, 0.1);
}

.hero-text h1 {
    font-size: 2.8rem;
    font-weight: 900;
    margin-bottom: 15px;
    letter-spacing: -1px;
}

.hero-text p {
    font-size: 1.1rem;
    opacity: 0.8;
    max-width: 500px;
    line-height: 1.6;
    margin-bottom: 30px;
}

.hero-actions {
    display: flex;
    gap: 20px;
    align-items: center;
}

.btn-glass {
    background: rgba(255, 255, 255, 0.15);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.2);
    color: white;
    padding: 12px 25px;
    border-radius: 12px;
    font-weight: 700;
    display: flex;
    align-items: center;
    gap: 10px;
    cursor: pointer;
    transition: all 0.3s;
}

.btn-glass:hover {
    background: white;
    color: #082359;
}

.music-search-box {
    background: rgba(255, 255, 255, 0.1);
    border-radius: 12px;
    display: flex;
    align-items: center;
    padding: 0 15px;
    width: 300px;
    border: 1px solid rgba(255, 255, 255, 0.1);
    transition: all 0.3s;
}

.music-search-box:focus-within {
    background: rgba(255, 255, 255, 0.2);
    width: 350px;
}

.music-search-box i { opacity: 0.5; }

.music-search-box input {
    background: transparent;
    border: none;
    color: white;
    padding: 12px;
    width: 100%;
    outline: none;
    font-weight: 500;
}

.music-search-box input::placeholder { color: rgba(255,255,255,0.4); }

.hero-stats {
    display: flex;
    gap: 40px;
}

.stat-bubble {
    display: flex;
    flex-direction: column;
    align-items: center;
}

.stat-bubble span {
    font-size: 2.5rem;
    font-weight: 900;
    line-height: 1;
}

.stat-bubble label {
    font-size: 0.75rem;
    font-weight: 700;
    opacity: 0.6;
    text-transform: uppercase;
    margin-top: 5px;
}

/* Music Body Layout */
.music-content-body {
    display: grid;
    grid-template-columns: 280px 1fr; /* Sidebar un poco más ancha */
    gap: 60px; /* Más espacio entre sidebar y contenido */
}

.music-nav-filters {
    list-style: none;
    padding: 0;
    margin: 0 0 30px 0;
}

.music-nav-filters li {
    padding: 12px 18px;
    border-radius: 12px;
    color: #64748b;
    font-weight: 600;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 12px;
    transition: all 0.2s;
    margin-bottom: 5px;
}

.music-nav-filters li:hover {
    background: rgba(8, 35, 89, 0.05);
    color: #082359;
}

.music-nav-filters li.active {
    background: #082359;
    color: white;
}

.music-playlist-mini h5 {
    color: #94a3b8;
    font-size: 0.7rem;
    font-weight: 800;
    letter-spacing: 1px;
    margin-bottom: 15px;
}

/* Recent Toasts Design */
.recent-toast-item {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 6px 10px;
    background: rgba(255, 255, 255, 0.8);
    backdrop-filter: blur(4px);
    border: 1px solid rgba(0, 0, 0, 0.05);
    border-radius: 30px; /* Pill shape */
    margin-bottom: 8px;
    transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
    cursor: pointer;
    box-shadow: 0 2px 5px rgba(0,0,0,0.03);
    width: fit-content;
    max-width: 100%;
}

.recent-toast-item:hover {
    transform: translateX(5px);
    background: #ffffff;
    border-color: #05a64b;
    box-shadow: 0 4px 12px rgba(5, 166, 75, 0.1);
}

.recent-toast-icon {
    width: 24px;
    height: 24px;
    border-radius: 50%;
    background: #082359;
    color: white;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 0.6rem;
    flex-shrink: 0;
}

.recent-toast-info {
    min-width: 0;
    padding-right: 8px;
}

.recent-toast-title {
    font-size: 0.75rem;
    font-weight: 700;
    color: #1e293b;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    line-height: 1.1;
}

.recent-toast-sub {
    font-size: 0.6rem;
    color: #64748b;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.music-main-area {
    min-width: 0;
}

.section-title-row {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 25px;
}

.section-title-row h3 {
    font-size: 1.4rem;
    font-weight: 800;
    color: #1e293b;
}

.view-options {
    display: flex;
    background: white;
    padding: 4px;
    border-radius: 10px;
    box-shadow: 0 4px 10px rgba(0,0,0,0.05);
}

.btn-icon-min {
    width: 32px;
    height: 32px;
    border: none;
    background: none;
    color: #cbd5e1;
    border-radius: 8px;
    cursor: pointer;
    font-size: 0.9rem;
}

.btn-icon-min.active {
    background: #f1f5f9;
    color: #082359;
}

.music-main-area {
    padding: 0;
    display: flex;
    flex-direction: column;
    gap: 20px;
}

.music-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(240px, 280px));
    gap: 30px;
    padding: 20px 0;
    justify-content: start;
}

.music-card {
    background: white;
    border-radius: 20px;
    padding: 0; 
    box-shadow: 0 10px 30px rgba(0,0,0,0.06);
    display: flex;
    flex-direction: column;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    position: relative;
    overflow: hidden;
    border: 1px solid rgba(0,0,0,0.03);
    aspect-ratio: 1 / 1.1;
    width: 100%;
}

.music-card:hover {
    transform: translateY(-8px);
    box-shadow: 0 20px 40px rgba(0,0,0,0.12);
}

.music-card-cover {
    flex: 1;
    background: linear-gradient(135deg, #082359 0%, #05a64b 100%);
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
}

.music-card-cover > i {
    font-size: 3.5rem;
    color: rgba(255,255,255,0.2);
    transition: all 0.3s;
}

.music-card:hover .music-card-cover > i {
    transform: scale(1.1);
    color: rgba(255,255,255,0.4);
}

/* Header y Grid de Columnas Sincronizado para Lista */
.music-list-header {
    display: grid;
    grid-template-columns: 65px 1fr 120px 60px;
    align-items: center;
    gap: 20px;
    padding: 12px 30px;
    background: #f8fafc;
    border-radius: 15px;
    margin-bottom: 15px;
    font-weight: 800;
    color: #94a3b8;
    font-size: 0.75rem;
    text-transform: uppercase;
    letter-spacing: 1px;
}

.music-list-header div:nth-child(3) { text-align: center; }

/* Modo Lista Mejorado Pro */
.music-grid.list-view {
    display: flex;
    flex-direction: column;
    gap: 12px;
    padding: 0;
}

.music-grid.list-view .music-card {
    display: grid;
    grid-template-columns: 65px 1fr 120px 60px;
    align-items: center;
    gap: 20px;
    height: 90px;
    aspect-ratio: auto;
    max-width: none;
    padding: 0 30px;
    background: white;
    border: 1px solid #f1f5f9;
    border-radius: 20px;
    transition: all 0.3s ease;
}

.music-grid.list-view .music-card:hover {
    background: white;
    box-shadow: 0 10px 30px rgba(8, 35, 89, 0.08);
    transform: translateX(15px);
    border-color: #082359;
}

.music-grid.list-view .music-card-cover {
    width: 65px;
    height: 65px;
    flex: none;
    border-radius: 15px;
    background: linear-gradient(135deg, #082359 0%, #05a64b 100%);
}

.music-grid.list-view .music-card-info {
    padding: 0;
    display: flex;
    flex-direction: column;
    gap: 4px;
}

.music-grid.list-view .music-card-info h4 { 
    font-size: 1.2rem; 
    margin: 0; 
    color: #082359;
    font-weight: 800;
}

.music-grid.list-view .music-card-info p { 
    font-size: 0.9rem; 
    margin: 0; 
    color: #64748b; 
    font-weight: 500;
}

.music-grid.list-view .music-card-badge {
    position: relative !important;
    top: auto !important;
    right: auto !important;
    display: flex;
    justify-content: center;
    align-items: center;
    background: transparent !important;
    box-shadow: none !important;
    border-radius: 0 !important;
    margin: 0 auto;
    font-size: 1.2rem;
    padding: 0 !important;
    font-weight: 900;
}

.music-grid.list-view .music-card-badge i {
    font-size: 1.1rem !important;
    margin-right: 8px;
}

.music-grid.list-view .btn-play-hover {
    position: relative;
    opacity: 1;
    transform: none !important;
    width: 50px;
    height: 50px;
    font-size: 1.2rem;
    margin: 0;
    box-shadow: 0 10px 20px rgba(5,166,75,0.2);
}

/* Animación de entrada de la lista */
.list-view .fadeIn {
    animation: listSlideIn 0.4s ease forwards;
}

@keyframes listSlideIn {
    from { opacity: 0; transform: translateX(-20px); }
    to { opacity: 1; transform: translateX(0); }
}

/* Sobreescribir el aesthetic badge solo para GRID */
.music-grid:not(.list-view) .music-card-badge {
    position: absolute;
    top: 0;
    right: 0;
    padding: 12px 25px;
    background: white;
    border-bottom-left-radius: 30px;
    display: flex;
    align-items: center;
    gap: 10px;
    font-weight: 900;
    font-size: 1rem;
    box-shadow: -5px 5px 20px rgba(0,0,0,0.1);
    z-index: 5;
    transition: all 0.3s;
}

/* Para GRID, la info se mantiene debajo */
.music-grid:not(.list-view) .music-card {
    flex-direction: column;
}

.btn-play-hover {
    position: absolute;
    width: 60px;
    height: 60px;
    background: #05a64b;
    color: white;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.5rem;
    opacity: 0;
    transform: translateY(20px);
    transition: all 0.3s;
    box-shadow: 0 8px 20px rgba(5,166,75,0.4);
    border: none;
    cursor: pointer;
    z-index: 10;
}

.music-card:hover .btn-play-hover {
    opacity: 1;
    transform: translateY(0);
}

.music-card-info {
    padding: 15px;
    background: white;
}

.music-card-info h4 {
    margin: 0;
    font-size: 1.05rem;
    font-weight: 700;
    color: #1e293b;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.music-card-info p {
    margin: 5px 0 0;
    font-size: 0.85rem;
    color: #64748b;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

/* Player Bar Reactions */
.p-btn-react {
    background: transparent;
    border: none;
    color: #64748b;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 6px;
    font-size: 0.95rem;
    font-weight: 600;
    transition: all 0.2s;
    padding: 6px 10px;
    border-radius: 10px;
}

.p-btn-react:hover {
    background: rgba(0,0,0,0.05);
}

.p-btn-react.active-like { color: #05a64b; background: rgba(5,166,75,0.1); }
.p-btn-react.active-dislike { color: #f43f5e; background: rgba(244,63,94,0.1); }

.p-btn-react i { font-size: 1.1rem; }

/* Hub utility styles */
.hover-bg-light:hover {
    background-color: rgba(0,0,0,0.05);
}

#music-recent-small::-webkit-scrollbar {
    width: 4px;
}
/* Studio Modal Styling */
.studio-modal {
    width: 650px !important;
    height: auto !important;
    max-height: 90vh !important;
    border-radius: 40px !important;
    background: white !important;
    padding: 0 !important;
    overflow: hidden !important;
    box-shadow: 0 40px 100px rgba(0,0,0,0.4) !important;
    position: relative !important;
    margin: auto !important;
    top: auto !important;
    left: auto !important;
}

.studio-modal .modal-header {
    background: #f8fafc;
    padding: 30px 40px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-bottom: 2px solid #f1f5f9;
}

.studio-modal .modal-header h3 {
    margin: 0;
    font-size: 1.5rem;
    font-weight: 800;
    color: #082359;
    display: flex;
    align-items: center;
    gap: 15px;
}

.studio-modal .modal-close {
    background: #fff;
    border: none;
    width: 45px;
    height: 45px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.2rem;
    color: #64748b;
    cursor: pointer;
    box-shadow: 0 4px 10px rgba(0,0,0,0.05);
    transition: all 0.2s;
}

.studio-modal .modal-close:hover {
    background: #f43f5e;
    color: white;
    transform: rotate(90deg);
}

.studio-modal .modal-body {
    padding: 40px;
}

.studio-form-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 25px;
}

.studio-form-grid .form-group.full { grid-column: 1 / -1; }
.studio-form-grid .form-group.half { grid-column: span 1; }

.studio-form-grid label {
    display: flex;
    align-items: center;
    gap: 8px;
    font-weight: 700;
    color: #1e293b;
    font-size: 0.95rem;
    margin-bottom: 10px;
}

.studio-form-grid input, .studio-form-grid select, .studio-form-grid textarea {
    width: 100%;
    background: #f1f5f9;
    border: 2px solid transparent;
    border-radius: 15px;
    padding: 15px;
    font-size: 1rem;
    transition: all 0.3s;
    color: #0f172a;
}

.studio-form-grid input:focus, .studio-form-grid textarea:focus {
    background: white;
    border-color: #05a64b;
    box-shadow: 0 10px 20px rgba(5,166,75,0.1);
    outline: none;
}

.studio-form-grid textarea { height: 120px; resize: none; }

/* Custom File Upload */
.file-upload-wrapper {
    position: relative;
    height: 100px;
    border: 2px dashed #cbd5e1;
    border-radius: 20px;
    background: #f8fafc;
    transition: all 0.3s;
}

.file-upload-wrapper:hover {
    border-color: #05a64b;
    background: rgba(5, 166, 75, 0.05);
}

.file-upload-wrapper.dragging {
    border-color: #05a64b;
    background: rgba(5, 166, 75, 0.1);
    transform: scale(1.01);
    box-shadow: 0 5px 15px rgba(5, 166, 75, 0.1);
}

.file-upload-wrapper input[type="file"] {
    position: absolute;
    width: 100%;
    height: 100%;
    opacity: 0;
    cursor: pointer;
    z-index: 2;
}

.file-upload-design {
    position: absolute;
    top: 0; left: 0; width: 100%; height: 100%;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 10px;
    color: #64748b;
}

.file-upload-design i { font-size: 2rem; color: #94a3b8; }

.studio-modal .modal-footer {
    padding: 30px 40px;
    background: #f8fafc;
    display: flex;
    justify-content: flex-end;
    gap: 15px;
}

.btn-studio-sec {
    background: white;
    border: 1px solid #e2e8f0;
    padding: 15px 30px;
    border-radius: 15px;
    font-weight: 600;
    color: #64748b;
    cursor: pointer;
    transition: all 0.3s;
}

.btn-studio-pri {
    background: #082359;
    color: white;
    border: none;
    padding: 15px 35px;
    border-radius: 15px;
    font-weight: 700;
    cursor: pointer;
    box-shadow: 0 10px 20px rgba(8, 35, 89, 0.2);
    transition: all 0.3s;
}

.btn-studio-pri:hover {
    transform: translateY(-3px);
    box-shadow: 0 15px 30px rgba(8, 35, 89, 0.3);
}

#music-recent-small::-webkit-scrollbar-thumb {
    background: #ccc;
    border-radius: 10px;
}

/* Modal Rediseñado estilo Studio */
#modal-upload-music.modal {
    background: rgba(8, 35, 89, 0.4);
    backdrop-filter: blur(12px);
}

#modal-upload-music .modal-content {
    width: 600px !important;
    height: auto !important;
    max-height: 90vh !important;
    border-radius: 30px !important;
    position: relative !important;
    top: auto !important;
    left: auto !important;
    margin: auto !important;
    background: white !important;
    box-shadow: 0 30px 100px rgba(0,0,0,0.3) !important;
    border: 1px solid rgba(255,255,255,0.2) !important;
}

#modal-upload-music .modal-body {
    padding: 30px;
    overflow-y: auto;
}

#modal-upload-music .form-group label {
    font-weight: 700;
    color: #082359;
    font-size: 0.9rem;
    margin-bottom: 8px;
    display: block;
}

#modal-upload-music input, #modal-upload-music select, #modal-upload-music textarea {
    background: #f8fafc;
    border: 2px solid #f1f5f9;
    border-radius: 12px;
    padding: 12px 15px;
    transition: all 0.3s;
    width: 100%;
}

#modal-upload-music input:focus {
    border-color: #05a64b;
    background: white;
}

/* Modo Lista para el Hub */
.music-grid.list-view {
    display: flex;
    flex-direction: column;
    gap: 12px;
}

.music-grid.list-view .music-card {
    flex-direction: row;
    height: 85px;
    aspect-ratio: auto;
    max-width: none;
    align-items: center;
    padding: 10px 25px;
}

.music-grid.list-view .music-card-cover {
    width: 65px;
    height: 65px;
    flex: none;
    border-radius: 12px;
}

.music-grid.list-view .music-card-cover i { font-size: 1.5rem; }

.music-grid.list-view .music-card-info {
    flex: 1;
    padding: 0 25px;
    display: flex;
    flex-direction: row;
    align-items: center;
    justify-content: space-between;
}

.music-grid.list-view .music-card-info h4 { margin: 0; font-size: 1.15rem; }
.music-grid.list-view .music-card-info p { margin: 0; color: #94a3b8; }

.music-grid.list-view .btn-play-hover {
    position: relative;
    opacity: 1;
    transform: none !important;
    width: 45px;
    height: 45px;
    font-size: 1.1rem;
    box-shadow: none;
}

.music-grid.list-view .star-badge-card {
    position: relative !important;
    top: auto !important;
    right: auto !important;
    margin-left: 20px;
}
